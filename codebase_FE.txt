

================================================
FILE PATH: app-config.json
================================================
{
  "app": {
    "title": "zaui-LoctionVoucher",
    "textColor": {
      "light": "black",
      "dark": "white"
    },
    "statusBar": "transparent",
    "actionBarHidden": true,
    "hideIOSSafeAreaBottom": true,
    "hideAndroidBottomNavigationBar": false
  },
  "listCSS": [],
  "listSyncJS": [],
  "listAsyncJS": []
}


================================================
FILE PATH: package.json
================================================
{
  "name": "zaui-loctionvoucher",
  "private": true,
  "version": "1.0.0",
  "description": "zmp-blank-templates",
  "repository": "",
  "license": "UNLICENSED",
  "browserslist": [
    "Android >= 5",
    "IOS >= 9.3",
    "Edge >= 15",
    "Safari >= 9.1",
    "Chrome >= 49",
    "Firefox >= 31",
    "Samsung >= 5"
  ],
  "scripts": {
    "login": "zmp login",
    "start": "zmp start",
    "deploy": "zmp deploy"
  },
  "dependencies": {
    "@react-google-maps/api": "^2.20.7",
    "axios": "^1.13.2",
    "jotai": "^2.12.1",
    "leaflet": "^1.9.4",
    "leaflet.markercluster": "^1.5.3",
    "react": "^18.3.1",
    "react-dom": "^18.3.1",
    "react-icons": "^5.5.0",
    "react-leaflet": "^4.2.1",
    "react-leaflet-cluster": "^4.0.0",
    "recoil": "^0.7.7",
    "zmp-sdk": "latest",
    "zmp-ui": "latest"
  },
  "devDependencies": {
    "@types/leaflet": "^1.9.21",
    "@types/leaflet.markercluster": "^1.5.6",
    "@types/react": "^18.3.1",
    "@types/react-dom": "^18.3.0",
    "@types/react-leaflet": "^2.8.3",
    "@vitejs/plugin-react": "^4.3.1",
    "autoprefixer": "^10.4.19",
    "cross-env": "^7.0.3",
    "postcss": "^8.4.38",
    "postcss-cli": "^8.3.1",
    "postcss-preset-env": "^6.7.0",
    "sass": "^1.76.0",
    "tailwindcss": "^3.4.3",
    "vite": "^5.2.13",
    "zmp-vite-plugin": "latest"
  }
}


================================================
FILE PATH: postcss.config.js
================================================
const tailwindcss = require("tailwindcss");

module.exports = {
  plugins: [tailwindcss("./tailwind.config.js"), require("autoprefixer")],
};


================================================
FILE PATH: src\app.ts
================================================
// ZaUI stylesheet
import 'zmp-ui/zaui.css';
// Tailwind stylesheet
import '@/css/tailwind.scss';
// Your stylesheet
import '@/css/app.scss';

// React core
import React from 'react';
import { createRoot } from 'react-dom/client';

// Expose app configuration
import appConfig from '../app-config.json';
import MyApp from './components/app';

if (!window.APP_CONFIG) {
  window.APP_CONFIG = appConfig as any;
}

const root = createRoot(document.getElementById('app')!);
root.render(React.createElement(MyApp));


================================================
FILE PATH: src\components\app.tsx
================================================
import { getSystemInfo } from 'zmp-sdk';
import { App, SnackbarProvider, ZMPRouter } from 'zmp-ui';
import { RecoilRoot } from 'recoil';
import { AppProps } from 'zmp-ui/app';
import Layout from './layout';

const MyApp = () => {
  const ZMPSnackbarProvider = SnackbarProvider as any;

  return (
    <RecoilRoot>
      <App theme={getSystemInfo().zaloTheme as AppProps['theme']}>
        <ZMPSnackbarProvider>
          <ZMPRouter>
            <Layout />
          </ZMPRouter>
        </ZMPSnackbarProvider>
      </App>
    </RecoilRoot>
  );
};

export default MyApp;


================================================
FILE PATH: src\components\comon\clock.tsx
================================================
import { useEffect, useState } from "react";
import { Text } from "zmp-ui";

function Clock() {
  const [time, setTime] = useState("");

  useEffect(() => {
    const updateClock = () => {
      const now = new Date();
      const formattedTime = now.toLocaleString("vi-VN", {
        hour: "2-digit",
        minute: "2-digit",
        second: "2-digit",
        day: "2-digit",
        month: "2-digit",
        year: "numeric",
      });
      setTime(formattedTime);
    };

    updateClock();
    const intervalId = setInterval(updateClock, 1000);
    return () => clearInterval(intervalId);
  }, []);

  return <Text className="font-mono">{time}</Text>;
}

export default Clock;


================================================
FILE PATH: src\components\comon\logo.tsx
================================================
import { SVGProps } from "react";

function Logo(props: SVGProps<SVGSVGElement>) {
  return (
    <svg
      width="88"
      height="40"
      viewBox="0 0 88 40"
      fill="none"
      xmlns="http://www.w3.org/2000/svg"
      {...props}
    >
      <g opacity="0.2">
        <path
          fillRule="evenodd"
          clipRule="evenodd"
          d="M10.3332 24.25C11.1156 24.25 11.7498 24.8842 11.7498 25.6666C11.7498 26.4491 11.1156 27.0833 10.3332 27.0833C9.55077 27.0833 8.9165 26.4491 8.9165 25.6666C8.9165 24.8842 9.55077 24.25 10.3332 24.25ZM15.9998 24.25C16.7823 24.25 17.4165 24.8842 17.4165 25.6666C17.4165 26.4491 16.7823 27.0833 15.9998 27.0833C15.2174 27.0833 14.5832 26.4491 14.5832 25.6666C14.5832 24.8842 15.2174 24.25 15.9998 24.25ZM21.6665 24.25C22.4489 24.25 23.0832 24.8842 23.0832 25.6666C23.0832 26.4491 22.4489 27.0833 21.6665 27.0833C20.8841 27.0833 20.2498 26.4491 20.2498 25.6666C20.2498 24.8842 20.8841 24.25 21.6665 24.25ZM10.3332 18.5833C11.1156 18.5833 11.7498 19.2175 11.7498 20C11.7498 20.7824 11.1156 21.4166 10.3332 21.4166C9.55077 21.4166 8.9165 20.7824 8.9165 20C8.9165 19.2175 9.55077 18.5833 10.3332 18.5833ZM15.9998 18.5833C16.7823 18.5833 17.4165 19.2175 17.4165 20C17.4165 20.7824 16.7823 21.4166 15.9998 21.4166C15.2174 21.4166 14.5832 20.7824 14.5832 20C14.5832 19.2175 15.2174 18.5833 15.9998 18.5833ZM21.6665 18.5833C22.4489 18.5833 23.0832 19.2175 23.0832 20C23.0832 20.7824 22.4489 21.4166 21.6665 21.4166C20.8841 21.4166 20.2498 20.7824 20.2498 20C20.2498 19.2175 20.8841 18.5833 21.6665 18.5833ZM10.3332 12.9166C11.1156 12.9166 11.7498 13.5509 11.7498 14.3333C11.7498 15.1157 11.1156 15.75 10.3332 15.75C9.55077 15.75 8.9165 15.1157 8.9165 14.3333C8.9165 13.5509 9.55077 12.9166 10.3332 12.9166ZM15.9998 12.9166C16.7823 12.9166 17.4165 13.5509 17.4165 14.3333C17.4165 15.1157 16.7823 15.75 15.9998 15.75C15.2174 15.75 14.5832 15.1157 14.5832 14.3333C14.5832 13.5509 15.2174 12.9166 15.9998 12.9166ZM21.6665 12.9166C22.4489 12.9166 23.0832 13.5509 23.0832 14.3333C23.0832 15.1157 22.4489 15.75 21.6665 15.75C20.8841 15.75 20.2498 15.1157 20.2498 14.3333C20.2498 13.5509 20.8841 12.9166 21.6665 12.9166Z"
          fill="currentcolor"
        />
      </g>
      <path
        fillRule="evenodd"
        clipRule="evenodd"
        d="M10.286 24.2856C11.075 24.2856 11.7146 24.9252 11.7146 25.7142C11.7146 26.5032 11.075 27.1428 10.286 27.1428C9.49701 27.1428 8.85742 26.5032 8.85742 25.7142C8.85742 24.9252 9.49701 24.2856 10.286 24.2856ZM21.7146 24.2856C22.5036 24.2856 23.1431 24.9252 23.1431 25.7142C23.1431 26.5032 22.5036 27.1428 21.7146 27.1428C20.9256 27.1428 20.286 26.5032 20.286 25.7142C20.286 24.9252 20.9256 24.2856 21.7146 24.2856ZM10.286 18.5713C11.075 18.5713 11.7146 19.2109 11.7146 19.9999C11.7146 20.7889 11.075 21.4285 10.286 21.4285C9.49701 21.4285 8.85742 20.7889 8.85742 19.9999C8.85742 19.2109 9.49701 18.5713 10.286 18.5713ZM16.0003 18.5713C16.7893 18.5713 17.4289 19.2109 17.4289 19.9999C17.4289 20.7889 16.7893 21.4285 16.0003 21.4285C15.2113 21.4285 14.5717 20.7889 14.5717 19.9999C14.5717 19.2109 15.2113 18.5713 16.0003 18.5713ZM21.7146 18.5713C22.5036 18.5713 23.1431 19.2109 23.1431 19.9999C23.1431 20.7889 22.5036 21.4285 21.7146 21.4285C20.9256 21.4285 20.286 20.7889 20.286 19.9999C20.286 19.2109 20.9256 18.5713 21.7146 18.5713ZM10.286 12.8571C11.075 12.8571 11.7146 13.4966 11.7146 14.2856C11.7146 15.0746 11.075 15.7142 10.286 15.7142C9.49701 15.7142 8.85742 15.0746 8.85742 14.2856C8.85742 13.4966 9.49701 12.8571 10.286 12.8571ZM16.0003 12.8571C16.7893 12.8571 17.4289 13.4966 17.4289 14.2856C17.4289 15.0746 16.7893 15.7142 16.0003 15.7142C15.2113 15.7142 14.5717 15.0746 14.5717 14.2856C14.5717 13.4966 15.2113 12.8571 16.0003 12.8571Z"
        fill="currentcolor"
      />
      <path
        d="M18 19.9999C18 18.8953 17.1046 17.9999 16 17.9999C14.8954 17.9999 14 18.8953 14 19.9999C14 21.1045 14.8954 21.9999 16 21.9999C17.1046 21.9999 18 21.1045 18 19.9999Z"
        fill="currentcolor"
      />
      <path
        d="M14 18.9999C14 18.4476 14.4477 17.9999 15 17.9999H17C17.5523 17.9999 18 18.4476 18 18.9999V20.9999C18 21.5522 17.5523 21.9999 17 21.9999H15C14.4477 21.9999 14 21.5522 14 20.9999V18.9999Z"
        fill="currentcolor"
      />
      <path
        d="M8.75 13.7499C8.75 13.1976 9.19772 12.7499 9.75 12.7499H10.75C11.3023 12.7499 11.75 13.1976 11.75 13.7499V14.7499C11.75 15.3022 11.3023 15.7499 10.75 15.7499H9.75C9.19772 15.7499 8.75 15.3022 8.75 14.7499V13.7499Z"
        fill="currentcolor"
      />
      <path
        d="M33.8789 14.7578H35.0659L38.0938 22.2925L41.1152 14.7578H42.3086L38.5508 24H37.624L33.8789 14.7578ZM33.4917 14.7578H34.5391L34.7104 20.3945V24H33.4917V14.7578ZM41.6421 14.7578H42.6895V24H41.4707V20.3945L41.6421 14.7578ZM45.9395 17.1318V24H44.7588V17.1318H45.9395ZM44.6699 15.3101C44.6699 15.1196 44.7271 14.9588 44.8413 14.8276C44.9598 14.6965 45.1333 14.6309 45.3618 14.6309C45.5861 14.6309 45.7575 14.6965 45.876 14.8276C45.9987 14.9588 46.0601 15.1196 46.0601 15.3101C46.0601 15.492 45.9987 15.6486 45.876 15.7798C45.7575 15.9067 45.5861 15.9702 45.3618 15.9702C45.1333 15.9702 44.9598 15.9067 44.8413 15.7798C44.7271 15.6486 44.6699 15.492 44.6699 15.3101ZM48.999 18.5981V24H47.8247V17.1318H48.9355L48.999 18.5981ZM48.7197 20.3057L48.231 20.2866C48.2352 19.8169 48.305 19.3831 48.4404 18.9854C48.5758 18.5833 48.7663 18.2342 49.0117 17.938C49.2572 17.6418 49.5492 17.4132 49.8877 17.2524C50.2305 17.0874 50.6092 17.0049 51.0239 17.0049C51.3625 17.0049 51.6672 17.0514 51.938 17.1445C52.2088 17.2334 52.4395 17.3773 52.6299 17.5762C52.8245 17.7751 52.9727 18.0332 53.0742 18.3506C53.1758 18.6637 53.2266 19.0467 53.2266 19.4995V24H52.0459V19.4868C52.0459 19.1271 51.993 18.8394 51.8872 18.6235C51.7814 18.4035 51.627 18.2448 51.4238 18.1475C51.2207 18.0459 50.971 17.9951 50.6748 17.9951C50.3828 17.9951 50.1162 18.0565 49.875 18.1792C49.638 18.3019 49.4328 18.4712 49.2593 18.687C49.09 18.9028 48.9567 19.1504 48.8594 19.4297C48.7663 19.7048 48.7197 19.9967 48.7197 20.3057ZM56.2861 17.1318V24H55.1055V17.1318H56.2861ZM55.0166 15.3101C55.0166 15.1196 55.0737 14.9588 55.188 14.8276C55.3065 14.6965 55.48 14.6309 55.7085 14.6309C55.9328 14.6309 56.1042 14.6965 56.2227 14.8276C56.3454 14.9588 56.4067 15.1196 56.4067 15.3101C56.4067 15.492 56.3454 15.6486 56.2227 15.7798C56.1042 15.9067 55.9328 15.9702 55.7085 15.9702C55.48 15.9702 55.3065 15.9067 55.188 15.7798C55.0737 15.6486 55.0166 15.492 55.0166 15.3101ZM64.9951 15.5767L61.9355 24H60.6851L64.208 14.7578H65.0142L64.9951 15.5767ZM67.5596 24L64.4937 15.5767L64.4746 14.7578H65.2808L68.8164 24H67.5596ZM67.4009 20.5786V21.5815H62.2085V20.5786H67.4009ZM71.0508 18.4521V26.6406H69.8701V17.1318H70.9492L71.0508 18.4521ZM75.6782 20.5088V20.6421C75.6782 21.1414 75.619 21.6048 75.5005 22.0322C75.382 22.4554 75.2085 22.8236 74.98 23.1367C74.7557 23.4499 74.4785 23.6932 74.1484 23.8667C73.8184 24.0402 73.4396 24.127 73.0122 24.127C72.5763 24.127 72.1912 24.055 71.8569 23.9111C71.5226 23.7673 71.2391 23.5578 71.0063 23.2827C70.7736 23.0076 70.5874 22.6776 70.4478 22.2925C70.3123 21.9074 70.2192 21.4736 70.1685 20.9912V20.2803C70.2192 19.7725 70.3145 19.3175 70.4541 18.9155C70.5938 18.5135 70.7778 18.1707 71.0063 17.8872C71.2391 17.5994 71.5205 17.3815 71.8506 17.2334C72.1807 17.0811 72.5615 17.0049 72.9932 17.0049C73.4248 17.0049 73.8078 17.0895 74.1421 17.2588C74.4764 17.4238 74.7578 17.6608 74.9863 17.9697C75.2148 18.2786 75.3862 18.6489 75.5005 19.0806C75.619 19.508 75.6782 19.984 75.6782 20.5088ZM74.4976 20.6421V20.5088C74.4976 20.166 74.4616 19.8444 74.3896 19.5439C74.3177 19.2393 74.2056 18.9727 74.0532 18.7441C73.9051 18.5114 73.7147 18.3294 73.4819 18.1982C73.2492 18.0628 72.972 17.9951 72.6504 17.9951C72.3542 17.9951 72.096 18.0459 71.876 18.1475C71.6602 18.249 71.4761 18.3866 71.3237 18.5601C71.1714 18.7293 71.0465 18.924 70.9492 19.144C70.8561 19.3599 70.7863 19.5841 70.7397 19.8169V21.4609C70.8244 21.7572 70.9429 22.0365 71.0952 22.2988C71.2476 22.557 71.4507 22.7664 71.7046 22.9272C71.9585 23.0838 72.278 23.1621 72.6631 23.1621C72.9805 23.1621 73.2534 23.0965 73.4819 22.9653C73.7147 22.8299 73.9051 22.6458 74.0532 22.4131C74.2056 22.1803 74.3177 21.9137 74.3896 21.6133C74.4616 21.3086 74.4976 20.9849 74.4976 20.6421ZM78.3506 18.4521V26.6406H77.1699V17.1318H78.249L78.3506 18.4521ZM82.978 20.5088V20.6421C82.978 21.1414 82.9188 21.6048 82.8003 22.0322C82.6818 22.4554 82.5083 22.8236 82.2798 23.1367C82.0555 23.4499 81.7783 23.6932 81.4482 23.8667C81.1182 24.0402 80.7394 24.127 80.312 24.127C79.8761 24.127 79.491 24.055 79.1567 23.9111C78.8224 23.7673 78.5389 23.5578 78.3062 23.2827C78.0734 23.0076 77.8872 22.6776 77.7476 22.2925C77.6121 21.9074 77.519 21.4736 77.4683 20.9912V20.2803C77.519 19.7725 77.6143 19.3175 77.7539 18.9155C77.8936 18.5135 78.0776 18.1707 78.3062 17.8872C78.5389 17.5994 78.8203 17.3815 79.1504 17.2334C79.4805 17.0811 79.8613 17.0049 80.293 17.0049C80.7246 17.0049 81.1076 17.0895 81.4419 17.2588C81.7762 17.4238 82.0576 17.6608 82.2861 17.9697C82.5146 18.2786 82.686 18.6489 82.8003 19.0806C82.9188 19.508 82.978 19.984 82.978 20.5088ZM81.7974 20.6421V20.5088C81.7974 20.166 81.7614 19.8444 81.6895 19.5439C81.6175 19.2393 81.5054 18.9727 81.353 18.7441C81.2049 18.5114 81.0145 18.3294 80.7817 18.1982C80.549 18.0628 80.2718 17.9951 79.9502 17.9951C79.654 17.9951 79.3958 18.0459 79.1758 18.1475C78.96 18.249 78.7759 18.3866 78.6235 18.5601C78.4712 18.7293 78.3464 18.924 78.249 19.144C78.1559 19.3599 78.0861 19.5841 78.0396 19.8169V21.4609C78.1242 21.7572 78.2427 22.0365 78.395 22.2988C78.5474 22.557 78.7505 22.7664 79.0044 22.9272C79.2583 23.0838 79.5778 23.1621 79.9629 23.1621C80.2803 23.1621 80.5532 23.0965 80.7817 22.9653C81.0145 22.8299 81.2049 22.6458 81.353 22.4131C81.5054 22.1803 81.6175 21.9137 81.6895 21.6133C81.7614 21.3086 81.7974 20.9849 81.7974 20.6421Z"
        fill="currentcolor"
      />
    </svg>
  );
}

export default Logo;


================================================
FILE PATH: src\components\layout.tsx
================================================
import { Routes, Route, useLocation } from 'react-router-dom'; // Th√™m useLocation
import { Box } from 'zmp-ui';
import HomePage from '@/pages/home';
import MapPage from '@/pages/map';
import VoucherPage from '@/pages/voucher';
import ProfilePage from '@/pages/profile';
import WelcomePage from '@/pages/welcome';
import CustomBottomNavigation from './navigation';
import StoreDetailPage from '@/pages/store';
import MyVoucherPage from '@/pages/profile/my-voucher/index';

const Layout = () => {
  const location = useLocation();
  const isWelcomePage = location.pathname === '/' || location.pathname === '/welcome';

  return (
    <Box className="flex-1 flex flex-col h-screen overflow-hidden">
      <Box className="flex-1 overflow-auto relative">
        <Routes>
          <Route path="/" element={<WelcomePage />} />
          <Route path="/welcome" element={<WelcomePage />} />
          <Route path="/home" element={<HomePage />} />
          <Route path="/map" element={<MapPage />} />
          <Route path="/voucher" element={<VoucherPage />} />
          <Route path="/profile" element={<ProfilePage />} />
          <Route path="/store/:id" element={<StoreDetailPage />} />
          <Route path="/my-voucher" element={<MyVoucherPage />} />
        </Routes>
      </Box>

      {!isWelcomePage && <CustomBottomNavigation />}
    </Box>
  );
};

export default Layout;


================================================
FILE PATH: src\components\navigation.tsx
================================================
import { useNavigate, useLocation } from 'react-router-dom';
import { BottomNavigation } from 'zmp-ui';
import { FaHome, FaMapMarkedAlt, FaFireAlt, FaUser } from 'react-icons/fa';

const CustomBottomNavigation = () => {
  const navigate = useNavigate();
  const location = useLocation();

  const activeColor = '#d83231';
  const defaultColor = '#94a3b8';

  const getColor = (path) => {
    return location.pathname === path ? activeColor : defaultColor;
  };

  return (
    <BottomNavigation
      fixed
      activeKey={location.pathname}
      onChange={(key) => navigate(key)}
      className="z-[2000]  [&_.zaui-bottom-navigation-item-active]:text-[#d83231]"
    >
      <BottomNavigation.Item
        key="/home"
        label="Trang ch·ªß"
        icon={<FaHome size={24} color={getColor('/home')} />}
      />

      <BottomNavigation.Item
        key="/map"
        label="B·∫£n ƒë·ªì"
        icon={<FaMapMarkedAlt size={24} color={getColor('/map')} />}
      />

      <BottomNavigation.Item
        key="/voucher"
        label="Khuy·∫øn m√£i"
        icon={<FaFireAlt size={24} color={getColor('/voucher')} />}
      />

      <BottomNavigation.Item
        key="/profile"
        label="T√†i kho·∫£n"
        icon={<FaUser size={24} color={getColor('/profile')} />}
      />
    </BottomNavigation>
  );
};

export default CustomBottomNavigation;


================================================
FILE PATH: src\components\StoreDetailSheet.tsx
================================================
import { useMemo } from 'react';
import { Sheet, Button, Text, Box } from 'zmp-ui';
import { useStore } from '@/hooks/useStore';
import { Voucher } from '@/types/store';

const StoreDetailSheet = () => {
  const { selectedStore, setSelectedStore, saveVoucher, myVouchers } = useStore();

  const vouchers = selectedStore?.vouchers || [];

  const savedVoucherIds = useMemo(() => {
    return new Set((myVouchers || []).map((item) => item.voucher_id));
  }, [myVouchers]);

  return (
    <Sheet
      visible={!!selectedStore}
      onClose={() => setSelectedStore(null)}
      autoHeight
      mask
      handler
      swipeToClose
    >
      {selectedStore && (
        <Box p={4} className="pb-10">
          <div className="flex gap-4">
            <img
              src={selectedStore.image || 'https://via.placeholder.com/100'}
              className="w-24 h-24 rounded-lg object-cover bg-gray-100"
              alt={selectedStore.name}
              onError={(e) => (e.currentTarget.src = 'https://via.placeholder.com/100')}
            />
            <div className="flex-1">
              <Text.Title className="text-orange-600 font-bold">{selectedStore.name}</Text.Title>
              <Text size="small" className="text-gray-500 mt-1">
                {selectedStore.address}
              </Text>
            </div>
          </div>

          <div className="w-full h-[1px] bg-gray-100 my-4"></div>

          <div>
            <div className="flex justify-between items-center mb-3">
              <Text.Title size="small" className="font-bold">
                Voucher hi·ªán c√≥
              </Text.Title>
              <span className="text-xs text-gray-400">{vouchers.length} m√£</span>
            </div>

            {vouchers.length > 0 ? (
              <div className="space-y-3">
                {vouchers.map((v: Voucher) => {
                  const isSaved = savedVoucherIds.has(v.id);

                  return (
                    <div
                      key={v.id}
                      className="border border-gray-200 rounded-xl p-3 flex justify-between items-center shadow-sm"
                    >
                      <div className="flex-1 pr-2">
                        <Text className="font-bold text-gray-800">{v.title}</Text>
                        <div className="flex items-center gap-2 mt-1">
                          <span className="text-xs bg-gray-100 px-2 py-0.5 rounded text-gray-500 font-mono">
                            {v.code}
                          </span>
                          <span className="text-xs text-orange-500 font-bold">
                            Gi·∫£m {v.discount}
                          </span>
                        </div>
                      </div>

                      <Button
                        size="small"
                        className={
                          isSaved
                            ? 'bg-gray-400 text-gray-700 min-w-[70px]'
                            : 'bg-orange-500 text-white min-w-[70px]'
                        }
                        onClick={() => !isSaved && saveVoucher(v.id)}
                        disabled={isSaved}
                      >
                        {isSaved ? 'ƒê√£ l∆∞u' : 'L∆∞u'}
                      </Button>
                    </div>
                  );
                })}
              </div>
            ) : (
              <div className="text-center py-8 bg-gray-50 rounded-xl border border-dashed border-gray-300">
                <Text className="text-gray-400 italic">Qu√°n n√†y ch∆∞a c√≥ voucher n√†o :(</Text>
              </div>
            )}
          </div>
        </Box>
      )}
    </Sheet>
  );
};

export default StoreDetailSheet;


================================================
FILE PATH: src\css\app.scss
================================================
.page {
  padding: 16px 16px 96px 16px;
}

.section-container {
  padding: 16px;
  background: #ffffff;
  border-radius: 8px;
  margin-bottom: 24px;
}

.zaui-list-item {
  cursor: pointer;
}

:root {
  --app-primary: #d83231;
}

.zaui-header {
  background-color: var(--app-primary) !important;
  border-bottom: none !important;
  height: 80px !important;

  .zaui-header-title {
    color: white !important;
  }

  .zaui-icon {
    color: white !important;
  }
}


================================================
FILE PATH: src\css\tailwind.scss
================================================
@tailwind base;
@tailwind components;
@tailwind utilities;


================================================
FILE PATH: src\hooks\useStore.ts
================================================
import { useState, useEffect, useCallback } from 'react';
import { useRecoilState, useRecoilValue } from 'recoil';
import {
  storesState,
  myVouchersState,
  selectedStoreState,
  userLocationState,
  flashSaleState,
} from '@/states/state';
import { getAccessToken } from 'zmp-sdk';
import api from '@/services/api';
import { Store } from '@/types/store';

export const useStore = () => {
  const [stores, setStores] = useRecoilState(storesState);
  const [myVouchers, setMyVouchers] = useRecoilState(myVouchersState);
  const [selectedStore, setSelectedStore] = useRecoilState(selectedStoreState);
  const userLocation = useRecoilValue(userLocationState);
  const [flashSales, setFlashSales] = useRecoilState(flashSaleState);
  const [loading, setLoading] = useState(false);

  const fetchNearby = useCallback(
    async (coords?: { lat: number; lng: number }) => {
      // 1. ∆Øu ti√™n l·∫•y to·∫° ƒë·ªô truy·ªÅn v√†o, n·∫øu kh√¥ng c√≥ th√¨ l·∫•y t·ª´ state userLocation
      const lat = coords?.lat || userLocation[0];
      const lng = coords?.lng || userLocation[1];

      // N·∫øu c·∫£ 2 ƒë·ªÅu kh√¥ng c√≥ d·ªØ li·ªáu h·ª£p l·ªá th√¨ d·ª´ng
      if (!lat || !lng) return;

      setLoading(true);
      try {
        const res: any = await api.get('/api/store/nearby', {
          params: {
            lat: lat,
            lng: lng,
            radius: 10, // T√¨m quanh 10km
          },
        });

        if (res && Array.isArray(res.data)) {
          setStores(res.data as Store[]);
        } else {
          setStores([]);
        }
      } catch (error) {
        console.error('L·ªói l·∫•y qu√°n g·∫ßn ƒë√¢y:', error);
        setStores([]);
      } finally {
        setLoading(false);
      }
    },
    [userLocation, setStores]
  );

  const search = useCallback(
    async (keyword: string) => {
      setLoading(true);
      try {
        const res: any = await api.get('/api/store/search', {
          params: { q: keyword },
        });

        if (res && Array.isArray(res.data)) {
          setStores(res.data);
        } else {
          setStores([]);
        }
      } catch (error) {
        console.error('L·ªói t√¨m ki·∫øm:', error);
        setStores([]);
      } finally {
        setLoading(false);
      }
    },
    [setStores]
  );

  const fetchMyWallet = useCallback(async () => {
    setLoading(true);
    try {
      const accessToken = await getAccessToken({});

      const res: any = await api.get('/api/store/my-wallet', {
        headers: {
          Authorization: `Bearer ${accessToken}`,
        },
      });

      if (res && Array.isArray(res.data)) {
        setMyVouchers(res.data);
      } else {
        setMyVouchers([]);
      }
    } catch (error) {
      console.error('L·ªói l·∫•y v√≠:', error);
    } finally {
      setLoading(false);
    }
  }, [setMyVouchers]);

  const saveVoucher = useCallback(
    async (voucherId: number) => {
      try {
        const accessToken = await getAccessToken({});

        const res: any = await api.post(
          '/api/store/save',
          { voucherId: voucherId },
          {
            headers: { Authorization: `Bearer ${accessToken}` },
          }
        );

        if (res && res.success) {
          fetchMyWallet();
          return { success: true, message: 'L∆∞u th√†nh c√¥ng!' };
        }
        return { success: false, message: 'Kh√¥ng th·ªÉ l∆∞u voucher' };
      } catch (error: any) {
        console.error('L·ªói l∆∞u voucher:', error);
        const msg = error?.response?.data?.error || 'L·ªói h·ªá th·ªëng';
        return { success: false, message: msg };
      }
    },
    [fetchMyWallet]
  );

  const unsaveVoucher = useCallback(
    async (voucherId: number) => {
      try {
        const accessToken = await getAccessToken({});
        const res: any = await api.post(
          '/api/store/unsave',
          { voucherId },
          { headers: { Authorization: `Bearer ${accessToken}` } }
        );

        if (res && res.success) {
          fetchMyWallet();
          return { success: true };
        }
        return { success: false, message: 'H·ªßy th·∫•t b·∫°i' };
      } catch (error: any) {
        const msg = error?.response?.data?.error || 'L·ªói kh√¥ng th·ªÉ h·ªßy';
        return { success: false, message: msg };
      }
    },
    [fetchMyWallet]
  );

  const useVoucher = useCallback(
    async (voucherId: number) => {
      try {
        const accessToken = await getAccessToken({});
        const res: any = await api.post(
          '/api/store/use',
          { voucherId },
          { headers: { Authorization: `Bearer ${accessToken}` } }
        );
        if (res && res.success) {
          fetchMyWallet();
          return { success: true };
        }
        return { success: false, message: 'L·ªói kh√¥ng x√°c ƒë·ªãnh' };
      } catch (error: any) {
        return { success: false, message: error?.response?.data?.error || 'L·ªói h·ªá th·ªëng' };
      }
    },
    [fetchMyWallet]
  );

  const fetchFlashSales = useCallback(async () => {
    try {
      const accessToken = await getAccessToken({});
      const res: any = await api.get('/api/store/flash-sale', {
        headers: {
          Authorization: `Bearer ${accessToken}`,
        },
      });

      if (res && Array.isArray(res.data)) {
        setFlashSales(res.data);
      }
    } catch (error) {
      console.error('L·ªói l·∫•y Flash Sale:', error);
    }
  }, [setFlashSales]);

  return {
    stores,
    myVouchers,
    selectedStore,
    setSelectedStore,
    loading,
    fetchNearby,
    search,
    saveVoucher,
    fetchMyWallet,
    unsaveVoucher,
    useVoucher,
    flashSales,
    fetchFlashSales,
  };
};


================================================
FILE PATH: src\hooks\useUserInit.ts
================================================
import { useEffect, useCallback } from 'react';
import { useSetRecoilState } from 'recoil';
import { userState, userLoadingState } from '@/states/state';
import { getUserInfo, getAccessToken } from 'zmp-sdk';
import { events, EventName } from 'zmp-sdk/apis';
import api from '@/services/api';
import { User } from '@/types/user';

const syncUserToBackend = async (zaloUserInfo: {
  name: string;
  avatar: string;
  id: string;
}): Promise<User | null> => {
  try {
    const accessToken = await getAccessToken({});

    const res: any = await api.post(
      '/api/user/sync',
      {
        name: zaloUserInfo.name,
        avatar: zaloUserInfo.avatar,
      },
      {
        headers: {
          Authorization: `Bearer ${accessToken}`,
        },
      }
    );

    return res?.data ?? null;
  } catch (e) {
    console.error('L·ªói ƒë·ªìng b·ªô User:', e);
    return null;
  }
};

export const useUserInit = () => {
  const setUser = useSetRecoilState(userState);
  const setLoading = useSetRecoilState(userLoadingState);

  const initializeUser = useCallback(
    async (isInitialLoad = false) => {
      try {
        if (isInitialLoad) {
          setLoading(true);
        }

        const { userInfo } = await getUserInfo({
          autoRequestPermission: true,
          avatarType: 'normal',
        });

        if (userInfo) {
          const userFromBackend = await syncUserToBackend({
            id: userInfo.id,
            name: userInfo.name,
            avatar: userInfo.avatar,
          });

          if (userFromBackend) {
            setUser(userFromBackend);
          } else {
            setUser({
              id: userInfo.id,
              name: userInfo.name,
              avatar: userInfo.avatar,
            });
          }
        }
      } catch (error) {
        console.error('L·ªói kh·ªüi t·∫°o user:', error);
      } finally {
        if (isInitialLoad) {
          setLoading(false);
        }
      }
    },
    [setUser, setLoading]
  );

  useEffect(() => {
    // Ch·∫°y l·∫ßn ƒë·∫ßu khi mount
    initializeUser(true);

    // Ch·∫°y l·∫°i khi App ƒë∆∞·ª£c m·ªü l·∫°i t·ª´ background (Resume)
    const onAppResume = () => {
      initializeUser(false);
    };

    events.on(EventName.AppResumed, onAppResume);
    events.on(EventName.OpenApp, onAppResume);

    return () => {
      events.off(EventName.AppResumed, onAppResume);
      events.off(EventName.OpenApp, onAppResume);
    };
  }, [initializeUser]);
};


================================================
FILE PATH: src\hooks\useUserLocation.ts
================================================
import { useEffect, useCallback } from 'react';
import { useRecoilState } from 'recoil';
import { login, getLocation, getAccessToken } from 'zmp-sdk';
import api from '@/services/api';
import { userLocationState, locationLoadingState } from '@/states/state';

export const useUserLocation = () => {
  const [position, setPosition] = useRecoilState(userLocationState);
  const [loading, setLoading] = useRecoilState(locationLoadingState);

  const refreshLocation = useCallback(async () => {
    if (loading) return;
    setLoading(true);

    try {
      await login({});

      const locationRes: any = await new Promise((resolve) => {
        getLocation({
          success: (data) => resolve(data),
          fail: (err) => resolve(err),
        });
      });

      const { latitude, longitude, lat, lng, token } = locationRes;
      const finalLat = latitude || lat;
      const finalLng = longitude || lng;

      if (finalLat && finalLng) {
        setPosition([parseFloat(finalLat), parseFloat(finalLng)]);
        return;
      }

      if (!token) {
        throw new Error('Vui l√≤ng c·∫•p quy·ªÅn v·ªã tr√≠ ƒë·ªÉ s·ª≠ d·ª•ng.');
      }

      const accessToken = await getAccessToken({});

      const data: any = await api.post('/api/zalo/location', {
        accessToken,
        locationToken: token,
      });

      if (data && data.lat && data.lng) {
        setPosition([data.lat, data.lng]);
      } else {
        throw new Error('Kh√¥ng x√°c ƒë·ªãnh ƒë∆∞·ª£c v·ªã tr√≠ t·ª´ Server.');
      }
    } catch (err: any) {
      console.error('L·ªói ƒë·ªãnh v·ªã:', err);
    } finally {
      setLoading(false);
    }
  }, [loading, setPosition, setLoading]);

  useEffect(() => {
    if (position[0] === 21.597631 && position[1] === 105.840984) {
      refreshLocation();
    }
  }, [position, refreshLocation]);

  return {
    position,
    loading,
    refreshLocation,
  };
};


================================================
FILE PATH: src\pages\home\FlashSaleList.tsx
================================================
import React, { useEffect, useState } from 'react';
import { Box, Text, Button, Icon, useSnackbar } from 'zmp-ui';
import { useStore } from '@/hooks/useStore';
import { useNavigate } from 'react-router-dom';

const FlashSaleItem = ({
  item,
  onSave,
}: {
  item: any;
  onSave: (id: number) => Promise<boolean>;
}) => {
  const [timeLeft, setTimeLeft] = useState('');
  const [isSaved, setIsSaved] = useState(Boolean(item.is_saved));
  const [isLoading, setIsLoading] = useState(false);
  const navigate = useNavigate();

  useEffect(() => {
    const calculateTime = () => {
      const end = new Date(item.end_date).getTime();
      const now = new Date().getTime();
      const diff = end - now;

      if (diff <= 0) return 'ƒê√£ k·∫øt th√∫c';

      const hours = Math.floor(diff / (1000 * 60 * 60));
      const minutes = Math.floor((diff % (1000 * 60 * 60)) / (1000 * 60));
      const seconds = Math.floor((diff % (1000 * 60)) / 1000);

      const h = hours.toString().padStart(2, '0');
      const m = minutes.toString().padStart(2, '0');
      const s = seconds.toString().padStart(2, '0');
      return `${h}:${m}:${s}`;
    };

    setTimeLeft(calculateTime());
    const timer = setInterval(() => {
      setTimeLeft(calculateTime());
    }, 1000);

    return () => clearInterval(timer);
  }, [item.end_date]);

  useEffect(() => {
    setIsSaved(Boolean(item.is_saved));
  }, [item.is_saved]);

  const handleButtonClick = async () => {
    if (isSaved) {
      navigate('/my-voucher');
      return;
    }

    setIsLoading(true);
    const success = await onSave(item.id);
    setIsLoading(false);

    if (success) {
      setIsSaved(true);
    }
  };

  return (
    <div className="flex-shrink-0 w-[280px] bg-[#FFF5F1] p-3 rounded-xl border border-orange-100 shadow-sm flex flex-col gap-2 snap-center">
      <div className="flex items-center gap-2">
        <div className="bg-orange-500 text-white text-[10px] font-bold px-2 py-0.5 rounded-full flex items-center gap-1 shadow-sm">
          <Icon icon="zi-poll" size={12} />
          <span>Gi·∫£m {item.discount}</span>
          <span className="opacity-60">|</span>
          <span className="font-mono tracking-wide">{timeLeft}</span>
        </div>
      </div>

      <div className="flex justify-between items-center mt-auto">
        <div className="flex-1 pr-2 min-w-0">
          <Text className="font-bold text-gray-800 text-sm line-clamp-1">{item.store_name}</Text>
          <Text size="xxSmall" className="text-gray-500 line-clamp-1">
            {item.title}
          </Text>
          <Text size="xxSmall" className="text-gray-500 mt-1">
            C√≤n l·∫°i: <span className="text-orange-600 font-bold">{item.quantity}</span>
          </Text>
        </div>

        <Button
          size="small"
          loading={isLoading}
          className={`h-8 font-bold rounded-lg text-xs min-w-[80px] shadow-sm active:scale-95 transition-transform ${
            isSaved
              ? 'bg-green-600 text-white shadow-green-100'
              : 'bg-[#D83231] text-white shadow-red-100'
          }`}
          onClick={handleButtonClick}
        >
          {isSaved ? 'D√πng ngay' : 'L·∫•y voucher'}
        </Button>
      </div>
    </div>
  );
};

const FlashSaleList = () => {
  const { flashSales, fetchFlashSales, saveVoucher } = useStore();
  const navigate = useNavigate();
  const { openSnackbar } = useSnackbar();

  useEffect(() => {
    fetchFlashSales();
  }, [fetchFlashSales]);

  const handleSaveVoucher = async (id: number): Promise<boolean> => {
    const result: any = await saveVoucher(id);

    if (result.success) {
      openSnackbar({
        text: '‚ö° ' + result.message,
        type: 'success',
        duration: 3000,
        position: 'top',
      });
      return true;
    } else {
      openSnackbar({
        text: '‚ùå ' + (result.message || 'L·ªói khi l∆∞u voucher'),
        type: 'error',
        duration: 3000,
        position: 'top',
      });
      return false;
    }
  };

  if (!flashSales || flashSales.length === 0) return null;

  return (
    <div className="bg-white mb-2 pb-6 pt-2 border-t border-gray-50">
      <Box px={4} className="flex justify-between items-end mb-3">
        <div className="flex items-center gap-1">
          <Text.Title
            size="normal"
            className="font-extrabold text-gray-800 uppercase tracking-tight"
          >
            ‚ö° FLASH SALE
          </Text.Title>
          <span className="text-orange-500 font-bold text-sm bg-orange-50 px-1.5 rounded-full border border-orange-100">
            {flashSales.length}
          </span>
        </div>

        <Text
          size="small"
          className="text-red-500 font-medium cursor-pointer active:opacity-60 hover:underline"
          onClick={() => navigate('/voucher')}
        >
          Xem t·∫•t c·∫£
        </Text>
      </Box>

      <div className="flex overflow-x-auto px-4 gap-3 pb-2 scrollbar-hide snap-x">
        {flashSales.slice(0, 6).map((item) => (
          <FlashSaleItem key={item.id} item={item} onSave={handleSaveVoucher} />
        ))}
      </div>
    </div>
  );
};

export default FlashSaleList;


================================================
FILE PATH: src\pages\home\index.tsx
================================================
import React, { useEffect, useState } from 'react';
import { Page, Input, Box, Text, Icon } from 'zmp-ui';
import { useStore } from '@/hooks/useStore';
import { useNavigate } from 'react-router-dom';
import WelcomeHeader from './WelcomeHeader';
import TrendingList from './TrendingList';
import FlashSaleList from './FlashSaleList';
import { Store } from '@/types/store';

const HomePage: React.FC = () => {
  const { search, stores, loading, fetchNearby } = useStore();
  const navigate = useNavigate();

  const [keyword, setKeyword] = useState('');
  const [isSearchFocused, setIsSearchFocused] = useState(false);

  const safeStores = Array.isArray(stores) ? stores : [];

  const handleSearch = (text: string) => {
    setKeyword(text);
  };

  const exitSearchMode = () => {
    setIsSearchFocused(false);
    setKeyword('');
    fetchNearby();
  };

  const handleStoreClick = (store: Store) => {
    navigate(`/store/${store.id}`);
  };

  useEffect(() => {
    fetchNearby();
  }, []);

  useEffect(() => {
    const timer = setTimeout(() => {
      if (keyword.trim()) {
        search(keyword);
      } else if (keyword === '') {
        if (!isSearchFocused) fetchNearby();
      }
    }, 1000);

    return () => clearTimeout(timer);
  }, [keyword, search, fetchNearby, isSearchFocused]);

  return (
    <Page className="bg-gray-100 h-full pb-20 relative">
      <WelcomeHeader />

      <Box p={4} className="-mt-[80px] relative z-10">
        <div
          onClick={() => setIsSearchFocused(true)}
          className="bg-white rounded-full h-12 flex items-center px-4 shadow-sm border border-gray-100 active:scale-95 transition-transform"
        >
          <Icon icon="zi-search" className="text-gray-500 mr-2" />
          <Text className="text-gray-400 text-sm flex-1">B·∫°n mu·ªën ƒÉn g√¨ h√¥m nay?</Text>
        </div>
      </Box>

      <div className="bg-white pb-2 pt-4 rounded-2xl m-2 shadow-sm border border-gray-100">
        <TrendingList stores={safeStores.slice(0, 5)} loading={loading} />
      </div>

      <div className="bg-white pb-2 pt-4 rounded-2xl m-2 shadow-sm border border-gray-100">
        <FlashSaleList />
      </div>

      <div className="bg-white p-4 pb-2 pt-4 rounded-2xl m-2 shadow-sm border border-gray-100">
        <Text.Title size="normal" className="font-extrabold text-gray-800 uppercase tracking-tight">
          Tin t·ª©c n·ªïi b·∫≠t
        </Text.Title>
        <div className="text-gray-400 text-sm py-4 text-center">Ch∆∞a c√≥ tin t·ª©c m·ªõi</div>
      </div>

      {isSearchFocused && (
        <div className="fixed inset-0 bg-gray-50 z-[9999] flex flex-col animate-[fadeIn_0.2s_ease-in-out]">
          <div className="px-4 pt-8 pb-4 flex items-center border-b bg-[#D83231] border-gray-50">
            <div
              onClick={exitSearchMode}
              className="w-8 h-8 flex items-center justify-center -ml-2 mr-2 rounded-full active:bg-gray-100 transition-colors cursor-pointer"
            >
              <Icon icon="zi-chevron-left-header" className="text-white text-xl" />
            </div>
            <Text.Title size="normal" className="font-bold text-white pl-3">
              T√¨m ki·∫øm
            </Text.Title>
          </div>

          <div className="bg-white p-4 flex items-center gap-3 shadow-sm pt-safe-top">
            <div className="flex-1">
              <Input.Search
                placeholder="Nh·∫≠p t√™n qu√°n, m√≥n ƒÉn..."
                className="bg-gray-100 rounded-full h-10 border-none"
                value={keyword}
                onChange={(e) => handleSearch(e.target.value)}
                clearable
                autoFocus
              />
            </div>
          </div>

          <div className="flex-1 overflow-y-auto p-4">
            {!loading && safeStores.length > 0 && (
              <div className="grid grid-cols-2 gap-3">
                {safeStores.map((store: Store) => (
                  <div
                    key={store.id}
                    className="bg-white p-3 rounded-xl shadow-sm active:opacity-70 flex flex-col h-full border border-gray-100"
                    onClick={() => handleStoreClick(store)}
                  >
                    <img
                      src={store.image || 'https://via.placeholder.com/150'}
                      className="h-24 w-full object-cover rounded-lg mb-2 bg-gray-100"
                      alt={store.name}
                      onError={(e) => (e.currentTarget.src = 'https://via.placeholder.com/150')}
                    />
                    <Text className="font-bold line-clamp-1 text-gray-800">{store.name}</Text>
                    <Text size="xxSmall" className="text-gray-500 line-clamp-1 mb-2">
                      {store.address}
                    </Text>
                  </div>
                ))}
              </div>
            )}
          </div>
        </div>
      )}
    </Page>
  );
};

export default HomePage;


================================================
FILE PATH: src\pages\home\TrendingList.tsx
================================================
import React, { useMemo } from 'react';
import { Text, Box, Icon } from 'zmp-ui';
import { Store } from '@/types/store';
import { useNavigate } from 'react-router-dom';
import { useRecoilValue } from 'recoil';
import { userState, myVouchersState } from '@/states/state';
import { FaCrown, FaChevronRight } from 'react-icons/fa';

const TrendingCard = ({ store, onClick }: { store: Store; onClick: () => void }) => {
  const maxDiscount = React.useMemo(() => {
    if (!store.vouchers || store.vouchers.length === 0) return null;
    const percentVouchers = store.vouchers.filter((v) => Number(v.discount_percent) > 0);
    if (percentVouchers.length > 0) {
      const max = Math.max(...percentVouchers.map((v) => Number(v.discount_percent)));
      return `-${max}%`;
    }
    return null;
  }, [store.vouchers]);

  const rating = (Math.random() * (5 - 4) + 4).toFixed(1);

  return (
    <div
      className="flex-shrink-0 w-[150px] flex flex-col bg-white rounded-xl shadow-[0_4px_12px_rgba(0,0,0,0.05)] border border-gray-50 overflow-hidden active:scale-[0.98] transition-all duration-300"
      onClick={onClick}
    >
      <div className="h-[150px] w-full relative">
        <img
          src={store.image || 'https://via.placeholder.com/150'}
          className="w-full h-full object-cover"
          alt={store.name}
          onError={(e) => (e.currentTarget.src = 'https://via.placeholder.com/150')}
        />
        {store.distance !== undefined && (
          <div className="absolute top-2 left-2 bg-black/40 backdrop-blur-md text-white text-[10px] font-medium px-2 py-0.5 rounded-full border border-white/10">
            {store.distance < 1
              ? `${(store.distance * 1000).toFixed(0)}m`
              : `${store.distance.toFixed(1)}km`}
          </div>
        )}
        {maxDiscount && (
          <div className="absolute bottom-0 right-0 bg-[#D83231] text-white text-[10px] font-bold px-2 py-1 rounded-tl-lg">
            Gi·∫£m {maxDiscount}
          </div>
        )}
      </div>

      <div className="p-3 flex flex-col flex-1">
        <Text className="font-bold text-sm text-gray-800 line-clamp-1 mb-1">{store.name}</Text>
        <div className="flex items-center gap-1 mb-2">
          <Icon icon="zi-star-solid" className="text-yellow-400 text-[10px]" />
          <span className="text-[10px] font-bold text-gray-700">{rating}</span>
          <span className="text-[10px] text-gray-400">
            ‚Ä¢ {(Math.random() * 100).toFixed(0)} ƒë√°nh gi√°
          </span>
        </div>
        <div className="mt-auto flex flex-wrap flex-col gap-1">
          {store.vouchers && store.vouchers.length > 0 ? (
            <>
              <div className="flex items-center justify-start gap-1 w-[90px] bg-red-50 px-1.5 py-0.5 rounded text-red-500 text-[10px] font-bold border border-red-100">
                <Icon icon="zi-poll-solid" size={10} />
                {store.vouchers.length} ∆∞u ƒë√£i
              </div>
            </>
          ) : (
            <div className="flex items-center gap-1 mt-auto">
              <span className="text-[10px] text-gray-400 italic">Ch∆∞a c√≥ ∆∞u ƒë√£i</span>
            </div>
          )}
        </div>
      </div>
    </div>
  );
};

const StatItem = ({
  value,
  label,
  colorClass,
  onClick,
}: {
  value: number;
  label: string;
  colorClass: string;
  onClick?: () => void;
}) => (
  <div
    className="flex-1 flex flex-col items-center justify-center py-3 cursor-pointer group active:opacity-60 transition-opacity"
    onClick={onClick}
  >
    <Text className={`font-black text-2xl leading-none mb-1 ${colorClass}`}>{value}</Text>
    <Text size="xxSmall" className="text-gray-500 font-medium tracking-wide">
      {label}
    </Text>
  </div>
);

const TrendingList = ({ stores, loading }: { stores: any[]; loading: boolean }) => {
  const navigate = useNavigate();
  const user = useRecoilValue(userState);
  const myVouchers = useRecoilValue(myVouchersState);

  const skeletons = [1, 2, 3];

  const stats = useMemo(() => {
    const list = Array.isArray(myVouchers) ? myVouchers : [];
    const now = new Date().getTime();
    const saved = list.filter(
      (v) => v.status === 'UNUSED' && new Date(v.end_date).getTime() > now
    ).length;
    const used = list.filter((v) => v.status === 'USED').length;
    const expiring = list.filter((v) => {
      if (v.status !== 'UNUSED') return false;
      const end = new Date(v.end_date).getTime();
      const diffHours = (end - now) / (1000 * 60 * 60);
      return diffHours > 0 && diffHours < 72;
    }).length;
    return { saved, used, expiring };
  }, [myVouchers]);

  const memberPoints = 850;
  const maxPoints = 1000;
  const progressPercent = (memberPoints / maxPoints) * 100;

  return (
    <div className="bg-white mb-2 pb-6 pt-2 rounded-b-[32px] shadow-[0_10px_40px_-10px_rgba(0,0,0,0.08)] border-b border-gray-100 relative z-10">
      <Box px={4} mb={4} className="flex justify-between items-center mt-2">
        <div className="flex gap-3 items-center">
          <div className="w-11 h-11 rounded-full p-0.5 bg-gradient-to-tr from-red-500 to-orange-400">
            <img
              src={user?.avatar || 'https://i.imgur.com/8Km9tLL.png'}
              className="w-full h-full object-cover rounded-full border-2 border-white"
              alt="avatar"
            />
          </div>
          <div>
            <div className="flex items-center gap-1">
              <Text className="font-extrabold text-gray-800 text-lg">
                Ch√†o {user ? user.name.split(' ').pop() : 'b·∫°n'}!
              </Text>
              <span className="text-xl">üëã</span>
            </div>
            <Text
              size="xxSmall"
              className="text-gray-500 font-medium bg-gray-100 px-2 py-0.5 rounded-full inline-block mt-0.5"
            >
              Th√†nh vi√™n th√¢n thi·∫øt
            </Text>
          </div>
        </div>
        <div
          className="w-9 h-9 bg-gray-50 rounded-full flex items-center justify-center text-gray-600 active:bg-gray-200"
          onClick={() => navigate('/profile')}
        >
          <Icon icon="zi-chevron-right" />
        </div>
      </Box>

      <Box px={4} mb={5}>
        <div
          className="w-full relative overflow-hidden rounded-2xl p-5 shadow-xl shadow-orange-500/20 active:scale-[0.99] transition-transform"
          style={{
            background: 'linear-gradient(120deg, #F6B025 0%, #E86F21 100%)',
          }}
          onClick={() => navigate('/profile')}
        >
          <div className="absolute -right-8 -top-8 w-32 h-32 bg-white opacity-10 rounded-full blur-2xl"></div>
          <div className="absolute -left-4 bottom-0 w-24 h-24 bg-yellow-300 opacity-20 rounded-full blur-xl"></div>

          <div className="relative z-10">
            <div className="flex justify-between items-start">
              <div>
                <div className="flex items-center gap-2 mb-1">
                  <FaCrown className="text-white drop-shadow-sm" />
                  <Text className="text-white font-bold text-lg tracking-wide uppercase drop-shadow-md">
                    H·∫°ng V√†ng
                  </Text>
                </div>
              </div>
              <div className="text-right flex flex-wrap">
                <Text className="text-white font-black text-2xl leading-none drop-shadow-md">
                  {memberPoints}
                </Text>
              </div>
            </div>
            <div className="w-full h-1.5 bg-black/10 rounded-full mt-4 mb-2 backdrop-blur-sm overflow-hidden border border-white/10">
              <div
                className="h-full bg-white shadow-[0_0_10px_rgba(255,255,255,0.5)] rounded-full transition-all duration-1000"
                style={{ width: `${progressPercent}%` }}
              ></div>
            </div>
            <div className="flex justify-between items-center">
              <Text size="xxSmall" className="text-white/90 font-medium">
                M·ª•c ti√™u: {maxPoints} ƒëi·ªÉm
              </Text>
              <Text size="xxSmall" className="text-white font-bold flex items-center gap-1">
                Xem ∆∞u ƒë√£i <FaChevronRight size={10} />
              </Text>
            </div>
          </div>
        </div>
      </Box>

      <Box px={4} mb={6}>
        <div className="bg-white rounded-2xl p-3 shadow-[0_4px_24px_rgba(0,0,0,0.06)] border border-gray-50">
          <div className="flex items-center justify-between mb-2 border-b border-gray-50 pb-2 px-1">
            <Text.Title
              size="small"
              className="font-bold text-gray-800 uppercase text-xs tracking-wider"
            >
              V√≠ Voucher
            </Text.Title>
            <Text
              size="xxSmall"
              className="text-[#D83231] font-bold cursor-pointer"
              onClick={() => navigate('/my-voucher')}
            >
              Xem t·∫•t c·∫£
            </Text>
          </div>

          <div className="flex divide-x divide-gray-100">
            <StatItem
              value={stats.saved}
              label="Kh·∫£ d·ª•ng"
              colorClass="text-[#D83231]"
              onClick={() => navigate('/my-voucher')}
            />
            <StatItem value={stats.used} label="ƒê√£ d√πng" colorClass="text-green-600" />
            <StatItem value={stats.expiring} label="S·∫Øp h·∫øt" colorClass="text-orange-500" />
          </div>
        </div>
      </Box>

      <Box px={4} className="flex justify-between items-end mb-4">
        <div className="flex flex-col">
          <Text.Title
            size="large"
            className="font-black text-gray-800 uppercase italic tracking-tighter flex items-center gap-2"
          >
            HOT G·∫¶N B·∫†N <span className="text-2xl not-italic">üî•</span>
          </Text.Title>
          <Text size="xxSmall" className="text-gray-400">
            C√°c ƒë·ªãa ƒëi·ªÉm ƒë∆∞·ª£c y√™u th√≠ch nh·∫•t
          </Text>
        </div>
        <div
          className="flex items-center gap-1 text-gray-500 text-xs font-medium bg-gray-100 px-3 py-1.5 rounded-full active:bg-gray-200 transition-colors"
          onClick={() => navigate('/map')}
        >
          Xem t·∫•t c·∫£ <FaChevronRight size={10} />
        </div>
      </Box>

      <div className="flex overflow-x-auto px-4 gap-4 pb-4 scrollbar-hide snap-x">
        {loading ? (
          skeletons.map((i) => (
            <div
              key={i}
              className="flex-shrink-0 w-[150px] h-[200px] bg-gray-100 rounded-xl animate-pulse"
            />
          ))
        ) : stores && stores.length > 0 ? (
          stores.map((store) => (
            <TrendingCard
              key={store.id}
              store={store}
              onClick={() => navigate(`/store/${store.id}`)}
            />
          ))
        ) : (
          <div className="w-full py-8 flex flex-col items-center justify-center text-gray-400 bg-gray-50 rounded-xl border border-dashed border-gray-200 mx-4">
            <Icon icon="zi-location" className="mb-2 text-2xl opacity-50" />
            <Text size="small">Ch∆∞a c√≥ qu√°n n√†o quanh ƒë√¢y</Text>
          </div>
        )}
      </div>
    </div>
  );
};

export default TrendingList;


================================================
FILE PATH: src\pages\home\WelcomeHeader.tsx
================================================
import React from 'react';
import { Box, Text } from 'zmp-ui';

const WelcomeHeader: React.FC = () => {
  return (
    <div className="bg-[#D83231] p-4 pb-[80px] pt-12 rounded-b-3xl shadow-md text-white">
      <div className="flex justify-between items-start">
        <div className="flex flex-col gap-4">
          <Text.Title size="normal" className="font-bold text-white mt-1">
            Th√°i Nguy√™n Voucher Maps
          </Text.Title>
          <Text size="small" className="opacity-90 text-white pl-4">
            "ƒêi ƒë√¢u c≈©ng c√≥ deal, ƒÉn g√¨ c≈©ng ti·∫øt ki·ªám"
          </Text>
        </div>
      </div>
    </div>
  );
};

export default WelcomeHeader;


================================================
FILE PATH: src\pages\map\index.tsx
================================================
import React, { useEffect, useState, useMemo } from 'react';
import { MapContainer, TileLayer, Marker } from 'react-leaflet';
import MarkerClusterGroup from 'react-leaflet-cluster';
import 'leaflet/dist/leaflet.css';
import 'leaflet.markercluster/dist/MarkerCluster.css';
import 'leaflet.markercluster/dist/MarkerCluster.Default.css';
import L from 'leaflet';
import { Icon, Box } from 'zmp-ui';
import { useUserLocation } from '@/hooks/useUserLocation';
import { useStore } from '@/hooks/useStore';
import { Store } from '@/types/store';
import { getStorePin } from './utils/mapHelpers';
import { MapController, ResizeMapListener } from './MapControls';
import MapSearchBar from './MapSearchBar';
import StoreBottomSheet from './StoreBottomSheet';

const MapViewComponent: React.FC = () => {
  const { position, refreshLocation, loading: locLoading } = useUserLocation();
  const { stores, fetchNearby, selectedStore, setSelectedStore } = useStore();

  const [keyword, setKeyword] = useState('');
  const [targetZoom, setTargetZoom] = useState(16);
  const [isSheetCollapsed, setIsSheetCollapsed] = useState(false);

  useEffect(() => {
    if (!position[0] || !position[1]) return;
    const timer = setTimeout(() => {
      if (fetchNearby) fetchNearby();
    }, 1000);
    return () => clearTimeout(timer);
  }, [position, fetchNearby]);

  const filteredStores = useMemo(() => {
    if (!stores) return [];
    if (!keyword.trim()) return stores;
    const lowerKeyword = keyword.toLowerCase();
    return stores.filter(
      (s) =>
        s.name.toLowerCase().includes(lowerKeyword) ||
        (s.category && s.category.toLowerCase().includes(lowerKeyword)) ||
        (s.vouchers && s.vouchers.some((v: any) => v.title.toLowerCase().includes(lowerKeyword)))
    );
  }, [stores, keyword]);

  return (
    <Box className="w-full h-full relative bg-gray-100 flex flex-col">
      <style>{`.custom-pin-icon { background: none; border: none; }`}</style>

      <MapSearchBar keyword={keyword} setKeyword={setKeyword} />

      <Box className="absolute inset-0 z-0">
        <MapContainer
          center={position}
          zoom={18}
          style={{ height: '100%', width: '100%' }}
          zoomControl={false}
        >
          <TileLayer url="http://mt0.google.com/vt/lyrs=m&hl=vi&x={x}&y={y}&z={z}" />

          <ResizeMapListener isSheetCollapsed={isSheetCollapsed} />

          <MapController
            center={position}
            selectedStore={selectedStore}
            filteredStores={filteredStores}
            targetZoom={targetZoom}
            keyword={keyword}
          />

          <Marker
            position={position}
            icon={L.icon({
              iconUrl: 'https://cdn-icons-png.flaticon.com/512/9356/9356230.png',
              iconSize: [40, 40],
              iconAnchor: [20, 40],
            })}
          />

          <MarkerClusterGroup chunkedLoading showCoverageOnHover={false} maxClusterRadius={10}>
            {filteredStores.map((store: Store) => {
              if (!store.lat || !store.lng) return null;
              return (
                <Marker
                  key={store.id}
                  position={[store.lat, store.lng]}
                  icon={getStorePin(store)}
                  eventHandlers={{
                    click: () => {
                      setTargetZoom(18);
                      setSelectedStore(store);
                      setIsSheetCollapsed(false);
                    },
                  }}
                />
              );
            })}
          </MarkerClusterGroup>
        </MapContainer>

        <Box className="absolute right-4 bottom-2/4 z-[999]">
          <button
            onClick={refreshLocation}
            className="w-10 h-10 bg-white rounded-full shadow-md flex items-center justify-center text-red-500 active:scale-90 transition-transform"
          >
            {locLoading ? (
              <div className="w-4 h-4 border-2 border-red-500 border-t-transparent animate-spin rounded-full"></div>
            ) : (
              <Icon icon="zi-location-solid" />
            )}
          </button>
        </Box>
      </Box>

      <StoreBottomSheet
        isSheetCollapsed={isSheetCollapsed}
        setIsSheetCollapsed={setIsSheetCollapsed}
        selectedStore={selectedStore}
        setSelectedStore={setSelectedStore}
        keyword={keyword}
        filteredStores={filteredStores}
        setTargetZoom={setTargetZoom}
      />
    </Box>
  );
};

export default MapViewComponent;


================================================
FILE PATH: src\pages\map\MapControls.tsx
================================================
import { useEffect } from 'react';
import { useMap } from 'react-leaflet';
import L from 'leaflet';
import { Store } from '@/types/store';

export const MapController = ({
  center,
  selectedStore,
  filteredStores,
  targetZoom,
  keyword,
}: {
  center: [number, number];
  selectedStore: Store | null;
  filteredStores: Store[];
  targetZoom: number;
  keyword: string;
}) => {
  const map = useMap();

  useEffect(() => {
    if (keyword && filteredStores.length > 0 && !selectedStore) {
      const validPoints = filteredStores.filter((s) => s.lat && s.lng);
      if (validPoints.length > 0) {
        const bounds = L.latLngBounds(validPoints.map((s) => [s.lat, s.lng]));
        map.flyToBounds(bounds, { padding: [50, 50], maxZoom: 16, duration: 1.5 });
      }
    }
  }, [keyword, filteredStores, map, selectedStore]);

  useEffect(() => {
    if (selectedStore && selectedStore.lat && selectedStore.lng) {
      map.flyTo([selectedStore.lat, selectedStore.lng], targetZoom, {
        animate: true,
        duration: 1.2,
      });
    }
  }, [selectedStore, targetZoom, map]);

  useEffect(() => {
    if (!selectedStore && !keyword && center[0] && center[1]) {
      map.flyTo(center, 16, { animate: true, duration: 1.5 });
    }
  }, [center]);

  return null;
};

export const ResizeMapListener = ({ isSheetCollapsed }: { isSheetCollapsed: boolean }) => {
  const map = useMap();

  useEffect(() => {
    const timer = setTimeout(() => {
      map.invalidateSize();
    }, 310);

    return () => clearTimeout(timer);
  }, [isSheetCollapsed, map]);

  return null;
};


================================================
FILE PATH: src\pages\map\MapSearchBar.tsx
================================================
import React from 'react';
import { Box, Input, Text as ZText } from 'zmp-ui';

interface MapSearchBarProps {
  keyword: string;
  setKeyword: (val: string) => void;
}

const MapSearchBar: React.FC<MapSearchBarProps> = ({ keyword, setKeyword }) => {
  return (
    <Box className="absolute top-0 left-0 mt-3 right-0 z-[1000] p-4 flex flex-col gap-3 pointer-events-none">
      <Box className="bg-white rounded-xl shadow-md pointer-events-auto flex items-center pr-2">
        <Input.Search
          placeholder="T√¨m m√≥n l·∫©u, n∆∞·ªõng..."
          className="border-none h-11 flex-1"
          value={keyword}
          onChange={(e) => setKeyword(e.target.value)}
          clearable
        />
      </Box>
      <Box className="flex gap-2 pointer-events-auto overflow-x-auto scrollbar-hide">
        <Box className="bg-white px-3 py-1.5 rounded-full shadow-sm flex items-center gap-1.5 border border-gray-100">
          <Box className="w-2.5 h-2.5 rounded-full bg-green-700 animate-pulse"></Box>
          <ZText size="xSmall" className="font-bold text-gray-700">
            s·ª©c kh·ªèe
          </ZText>
        </Box>
        <Box className="bg-white px-3 py-1.5 rounded-full shadow-sm flex items-center gap-1.5 border border-gray-100">
          <Box className="w-2.5 h-2.5 rounded-full bg-red-500"></Box>
          <ZText size="xSmall" className="font-bold text-gray-700">
            ƒÉn u·ªëng
          </ZText>
        </Box>
        <Box className="bg-white px-3 py-1.5 rounded-full shadow-sm flex items-center gap-1.5 border border-gray-100">
          <Box className="w-2.5 h-2.5 rounded-full bg-pink-500"></Box>
          <ZText size="xSmall" className="font-bold text-gray-700">
            d·ªãch v·ª•
          </ZText>
        </Box>
      </Box>
    </Box>
  );
};

export default MapSearchBar;


================================================
FILE PATH: src\pages\map\StoreBottomSheet.tsx
================================================
import React, { useState, useEffect } from 'react';
import { Box, Icon, Button, Text as ZText } from 'zmp-ui'; // ƒê√£ th√™m ZText
import { Store } from '@/types/store';
import { useNavigate } from 'react-router-dom';
import { FaDirections, FaStar, FaRegClock } from 'react-icons/fa';

interface StoreBottomSheetProps {
  isSheetCollapsed: boolean;
  setIsSheetCollapsed: (val: boolean) => void;
  selectedStore: Store | null;
  setSelectedStore: (store: Store | null) => void;
  keyword: string;
  filteredStores: Store[];
  setTargetZoom: (zoom: number) => void;
}

const StoreBottomSheet: React.FC<StoreBottomSheetProps> = ({
  selectedStore,
  setSelectedStore,
  filteredStores,
  setTargetZoom,
}) => {
  const navigate = useNavigate();
  const [isVisible, setIsVisible] = useState(true);

  useEffect(() => {
    if (selectedStore) {
      setIsVisible(true);
    }
  }, [selectedStore]);

  const StoreCard = ({ store }: { store: Store }) => {
    // 1. KHAI B√ÅO BI·∫æN hasFlashSale
    const hasFlashSale = store.vouchers?.some((v: any) => v.type === 'FLASH_SALE');

    return (
      <div
        className="bg-white rounded-2xl p-4 mb-5 shadow-xl border border-gray-100 flex flex-col h-max w-[55vw] max-w-[300px] shrink-0 snap-center relative"
        onClick={() => {
          setTargetZoom(18);
          setSelectedStore(store);
        }}
      >
        <div className="relative w-full h-36 rounded-xl overflow-hidden mb-3 group shrink-0">
          <img
            src={store.image || 'https://via.placeholder.com/400x200'}
            className="w-full h-full object-cover transition-transform duration-700 group-hover:scale-105"
            alt={store.name}
            onError={(e) => (e.currentTarget.src = 'https://via.placeholder.com/400x200')}
          />

          <Box className="absolute top-2 left-2 flex flex-col gap-1 items-start z-10">
            {hasFlashSale && (
              <ZText className="bg-orange-500 text-white text-[10px] font-bold px-2 py-0.5 rounded-full shadow-sm flex items-center gap-1">
                <Icon icon="zi-poll" size={10} /> Flash Sale
              </ZText>
            )}
            {store.vouchers && store.vouchers.length > 0 && !hasFlashSale && (
              <ZText className="bg-white/95 text-red-500 text-[10px] font-bold px-2 py-0.5 rounded-full border border-red-100 shadow-sm">
                {store.vouchers.length} voucher
              </ZText>
            )}
          </Box>
          {selectedStore?.id === store.id && (
            <div className="absolute inset-0 border-2 border-[#D83231] rounded-xl pointer-events-none z-20"></div>
          )}
        </div>

        <div className="flex-1 flex flex-col">
          <h3 className="font-extrabold text-base text-gray-900 line-clamp-1 mb-1">{store.name}</h3>

          <div className="flex items-center gap-2 mb-2">
            <div className="flex items-center gap-0.5">
              <FaStar className="text-yellow-400 text-xs" />
              <span className="text-xs font-bold text-gray-800">4.8</span>
            </div>
            <span className="text-gray-300 text-xs">|</span>
            <span className="text-xs text-gray-500 line-clamp-1 flex-1">
              0 ƒë√°nh gi√° ‚Ä¢ {store.distance ? `${store.distance.toFixed(1)}km` : '25m'}
            </span>
          </div>

          <div className="text-xs text-gray-500 line-clamp-1 mb-3">{store.address}</div>

          <div className="mt-auto flex items-center gap-2">
            <Button
              className="flex-1 bg-[#d83231] hover:bg-[#d12323] active:bg-[#a81b1b] text-white font-bold rounded-lg h-9 text-xs shadow-md shadow-pink-100 border-none"
              onClick={(e) => {
                e.stopPropagation();
                navigate(`/store/${store.id}`);
              }}
            >
              Xem chi ti·∫øt
            </Button>

            <div
              className="w-9 h-9 flex items-center justify-center border border-red-100 bg-red-50 rounded-lg text-[#ea4c62] active:scale-95 transition-transform"
              onClick={(e) => {
                e.stopPropagation();
                console.log('Ch·ªâ ƒë∆∞·ªùng...');
              }}
            >
              <FaDirections size={16} />
            </div>
          </div>
        </div>
      </div>
    );
  };

  return (
    <>
      <div
        className={`fixed left-4 z-[999] transition-all duration-300 ${
          isVisible ? 'bottom-[370px]' : 'bottom-[60px]'
        }`}
      >
        <button
          onClick={() => setIsVisible(!isVisible)}
          className={`
            flex items-center gap-2 px-4 py-2 rounded-full shadow-lg font-bold text-sm transition-all border border-gray-100
            ${
              isVisible
                ? 'bg-white text-gray-700 hover:bg-gray-50'
                : 'bg-[#ea4c62] text-white hover:bg-[#d43f54]'
            }
          `}
        >
          <Icon icon={isVisible ? 'zi-chevron-down' : 'zi-chevron-up'} size={18} />
          <span>{isVisible ? '·∫®n' : 'Hi·ªán'}</span>
        </button>
      </div>

      <Box
        className={`
          fixed bottom-0 left-0 right-0 z-[1000] pb-safe
          transition-transform duration-300 ease-in-out
          ${isVisible ? 'translate-y-0' : 'translate-y-[120%]'}
        `}
      >
        <div className="flex overflow-x-auto gap-3 px-4 pb-6 pt-2 snap-x scrollbar-hide">
          {filteredStores.length === 0 ? (
            <div className="w-full bg-white rounded-xl p-4 text-center shadow-lg mx-auto border border-gray-100">
              <span className="text-gray-500 text-sm">Kh√¥ng t√¨m th·∫•y qu√°n n√†o ·ªü khu v·ª±c n√†y</span>
            </div>
          ) : (
            filteredStores.map((store) => <StoreCard key={store.id} store={store} />)
          )}

          <div className="w-2 shrink-0"></div>
        </div>
      </Box>
    </>
  );
};

export default StoreBottomSheet;


================================================
FILE PATH: src\pages\map\utils\mapHelpers.tsx
================================================
import React from 'react';
import L from 'leaflet';
import { renderToStaticMarkup } from 'react-dom/server';

import { TbMeat } from 'react-icons/tb'; // ƒÇn u·ªëng
import { GiHealthNormal } from 'react-icons/gi'; // S·ª©c kh·ªèe
import { MdRoomService } from 'react-icons/md'; // D·ªãch v·ª•
import { RiDrinks2Fill } from 'react-icons/ri'; // ƒê·ªì u·ªëng

import { Store } from '@/types/store';

export const createCustomPin = (color: string, content: React.ReactNode | string) => {
  const iconSize = 46;
  let innerHtml = '';

  if (
    typeof content === 'string' &&
    (content.startsWith('http') || content.startsWith('/') || content.startsWith('data:'))
  ) {
    innerHtml = `<img src="${content}" style="width: 22px; height: 22px; object-fit: contain;" />`;
  } else {
    innerHtml = renderToStaticMarkup(
      <div
        style={{
          color: color,
          fontSize: '22px',
          display: 'flex',
          alignItems: 'center',
          justifyContent: 'center',
        }}
      >
        {content}
      </div>
    );
  }

  const pinSvg = `
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512" width="${iconSize}" height="${iconSize}">
      <path fill="${color}" d="M172.268 501.67C26.97 291.031 0 269.413 0 192 0 85.961 85.961 0 192 0s192 85.961 192 192c0 77.413-26.97 99.031-172.268 309.67-9.535 13.774-29.93 13.773-39.464 0z"/>
      <circle cx="200" cy="192" r="150" fill="white" />
    </svg>
  `;

  return L.divIcon({
    className: 'custom-pin-icon',
    html: `
      <div style="position: relative; width: ${iconSize}px; height: ${iconSize}px; filter: drop-shadow(0 3px 3px rgba(0,0,0,0.3));">
        ${pinSvg}
        <div style="position: absolute; top: 0; left: 0; width: 100%; height: 75%; display: flex; align-items: center; justify-content: center;">
          ${innerHtml}
        </div>
      </div>
    `,
    iconSize: [iconSize, iconSize],
    iconAnchor: [iconSize / 2, iconSize],
    popupAnchor: [0, -iconSize + 10],
  });
};

export const getCategoryContent = (category: string | undefined) => {
  if (!category) return <TbMeat className="text-slate-600" />;

  const cat = category.toLowerCase();

  if (
    cat.includes('drink') ||
    cat.includes('coffee') ||
    cat.includes('c√† ph√™') ||
    cat.includes('tea') ||
    cat.includes('tr√†') ||
    cat.includes('milktea')
  ) {
    return <RiDrinks2Fill className="text-[#597718]" />;
  }

  if (
    cat.includes('health') ||
    cat.includes('spa') ||
    cat.includes('massage') ||
    cat.includes('dental') ||
    cat.includes('nha khoa') ||
    cat.includes('s·ª©c kh·ªèe') ||
    cat.includes('th·∫©m m·ªπ')
  ) {
    return <GiHealthNormal className="text-[#EF4444]" />;
  }

  if (
    cat.includes('service') ||
    cat.includes('hotel') ||
    cat.includes('motel') ||
    cat.includes('kh√°ch s·∫°n') ||
    cat.includes('nh√† ngh·ªâ') ||
    cat.includes('d·ªãch v·ª•')
  ) {
    return <MdRoomService className="text-[#e68d27]" />;
  }

  return <TbMeat className="text-[#AF672D]" />;
};

const getCategoryColor = (category: string | undefined) => {
  if (!category) return '#EF4444';

  const cat = category.toLowerCase();

  if (
    cat.includes('health') ||
    cat.includes('spa') ||
    cat.includes('massage') ||
    cat.includes('dental') ||
    cat.includes('nha khoa') ||
    cat.includes('s·ª©c kh·ªèe') ||
    cat.includes('th·∫©m m·ªπ')
  ) {
    return '#00A300';
  }

  if (
    cat.includes('service') ||
    cat.includes('hotel') ||
    cat.includes('motel') ||
    cat.includes('kh√°ch s·∫°n') ||
    cat.includes('nh√† ngh·ªâ') ||
    cat.includes('d·ªãch v·ª•')
  ) {
    return '#0f80e9';
  }

  return '#B4000F';
};

export const getStorePin = (store: Store) => {
  const pinColor = getCategoryColor(store.category);

  const iconContent = getCategoryContent(store.category);

  return createCustomPin(pinColor, iconContent);
};


================================================
FILE PATH: src\pages\profile\index.tsx
================================================
import React, { useEffect, useMemo, useState, useCallback } from 'react';
import { Page, Icon, Text, Avatar } from 'zmp-ui';
import { useRecoilState } from 'recoil';
import { userState } from '@/states/state';
import { useStore } from '@/hooks/useStore';
import { getUserInfo, getAccessToken } from 'zmp-sdk';
import api from '@/services/api';
import { useNavigate } from 'react-router-dom';
import { FaCrown, FaMapMarkerAlt } from 'react-icons/fa';
import { MdOutlineKeyboardArrowRight } from 'react-icons/md';

const ProfilePage: React.FC = () => {
  const [user, setUser] = useRecoilState(userState);
  const { myVouchers, fetchMyWallet } = useStore();
  const [loading, setLoading] = useState(false);
  const navigate = useNavigate();

  const handleSyncUser = useCallback(async () => {
    if (loading || user) return;
    setLoading(true);
    try {
      const { userInfo } = await getUserInfo({ autoRequestPermission: true, avatarType: 'normal' });
      if (userInfo) {
        try {
          const token = await getAccessToken({});
          await api.post(
            '/api/user/sync',
            { name: userInfo.name, avatar: userInfo.avatar },
            { headers: { Authorization: `Bearer ${token}` } }
          );
        } catch (err) {
          console.error(err);
        }
        setUser({ id: userInfo.id, name: userInfo.name, avatar: userInfo.avatar });
      }
    } catch (error) {
      console.log('User denied');
    } finally {
      setLoading(false);
    }
  }, [user, loading, setUser]);

  const handleProtectedAction = (action: () => void) => {
    if (user) {
      action();
    } else {
      handleSyncUser();
    }
  };

  useEffect(() => {
    if (!user) handleSyncUser();
    fetchMyWallet();
  }, []);

  const voucherStats = useMemo(() => {
    const list = Array.isArray(myVouchers) ? myVouchers : [];
    const now = new Date().getTime();

    const saved = list.filter(
      (v) => v.status === 'UNUSED' && new Date(v.end_date).getTime() > now
    ).length;
    const used = list.filter((v) => v.status === 'USED').length;
    const expiring = list.filter((v) => {
      if (v.status !== 'UNUSED') return false;
      const end = new Date(v.end_date).getTime();
      const diffHours = (end - now) / (1000 * 60 * 60);
      return diffHours > 0 && diffHours < 72;
    }).length;

    return { saved, used, expiring };
  }, [myVouchers]);

  const mockStats = {
    favorites: 12,
    checkin: 23,
    badges: 4,
    points: 850,
    maxPoints: 1000,
    rank: 'V√†ng',
  };

  const recentStores = [
    {
      id: 1,
      name: 'ZStation Coffee',
      time: '2 gi·ªù tr∆∞·ªõc',
      img: 'https://images.unsplash.com/photo-1554118811-1e0d58224f24?w=100&q=80',
    },
    {
      id: 2,
      name: 'K Coffee',
      time: 'H√¥m qua',
      img: 'https://images.unsplash.com/photo-1509042239860-f550ce710b93?w=100&q=80',
    },
  ];

  const StatBox = ({ num, label, onClick, color = 'text-red-500' }: any) => (
    <div
      onClick={() => handleProtectedAction(onClick || (() => {}))}
      className="bg-white rounded-xl p-3 flex flex-col items-center justify-center shadow-sm border border-gray-50 active:scale-95 transition-transform h-24 cursor-pointer"
    >
      <Text className={`font-bold text-xl mb-1 ${color}`}>{num}</Text>
      <Text size="xxSmall" className="text-gray-500 text-center leading-3">
        {label}
      </Text>
    </div>
  );

  const SettingItem = ({ icon, label, isLast = false, onClick }: any) => (
    <div
      className={`flex items-center p-4 active:bg-gray-50 cursor-pointer ${
        !isLast ? 'border-b border-gray-100' : ''
      }`}
      onClick={onClick}
    >
      <div className="w-8 flex justify-center text-gray-500 text-lg mr-3">{icon}</div>
      <Text className="flex-1 font-medium text-gray-700 text-sm">{label}</Text>
      <MdOutlineKeyboardArrowRight className="text-gray-400 text-xl" />
    </div>
  );

  return (
    <Page className="bg-[#F4F5F7] h-full pb-24 overflow-y-auto">
      <div
        className="bg-white p-5 pt-12 pb-6 flex items-center gap-4 cursor-pointer"
        onClick={!user ? handleSyncUser : undefined}
      >
        <div className="relative">
          <Avatar
            src={user?.avatar || 'https://i.imgur.com/8Km9tLL.png'}
            size={64}
            className="border-2 border-red-50"
          >
            {user ? '' : 'U'}
          </Avatar>
        </div>
        <div className="flex-1">
          <Text.Title size="normal" className="font-extrabold text-gray-800">
            {user ? user.name : 'ƒêƒÉng nh·∫≠p / ƒêƒÉng k√Ω'}
          </Text.Title>
          <div className="flex items-center gap-1 mt-1">
            {user ? (
              <>
                <div className="flex text-yellow-400 text-[10px]">‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ</div>
                <Text size="xxSmall" className="text-gray-400">
                  Th√†nh vi√™n th√¢n thi·∫øt
                </Text>
              </>
            ) : (
              <Text size="xxSmall" className="text-blue-500 font-medium">
                Ch·∫°m ƒë·ªÉ ƒë·ªìng b·ªô t√†i kho·∫£n
              </Text>
            )}
          </div>
        </div>
      </div>

      <div className="px-3 -mt-2 space-y-3">
        <div className="bg-white rounded-xl p-4 shadow-sm">
          <div className="flex items-center gap-2 mb-3">
            <Icon icon="zi-poll-solid" className="text-pink-500" size={18} />
            <Text className="font-bold text-sm uppercase text-gray-700">Th·∫ª th√†nh vi√™n</Text>
          </div>

          <div className="bg-gradient-to-r from-yellow-400 to-amber-500 rounded-xl p-4 text-white shadow-lg shadow-yellow-100 relative overflow-hidden">
            <div className="relative z-10">
              <div className="flex justify-between items-start mb-1">
                <div>
                  <div className="font-bold text-lg">H·∫°ng: {mockStats.rank}</div>
                  <div className="text-xs opacity-90">
                    {user ? mockStats.points : 0}/{mockStats.maxPoints} ƒëi·ªÉm
                  </div>
                </div>
                <FaCrown className="text-yellow-100 text-3xl opacity-50" />
              </div>

              <div className="w-full h-1.5 bg-black/10 rounded-full mt-2 mb-2 overflow-hidden">
                <div
                  className="h-full bg-white opacity-80 rounded-full"
                  style={{
                    width: user ? `${(mockStats.points / mockStats.maxPoints) * 100}%` : '0%',
                  }}
                ></div>
              </div>

              <div className="text-[10px] opacity-90 font-medium">
                {user ? '∆Øu ƒë√£i: Gi·∫£m th√™m 5% m·ªçi h√≥a ƒë∆°n' : 'ƒêƒÉng nh·∫≠p ƒë·ªÉ t√≠ch ƒëi·ªÉm'}
              </div>
            </div>
            <div className="absolute -right-4 -bottom-8 w-24 h-24 bg-white opacity-10 rounded-full"></div>
          </div>
        </div>

        <div className="grid grid-cols-4 gap-2">
          <StatBox
            num={voucherStats.saved}
            label="Voucher ƒë√£ l∆∞u"
            onClick={() => navigate('/my-voucher')}
          />

          <StatBox
            num={mockStats.favorites}
            label="Y√™u th√≠ch"
            onClick={() => console.log('Chuy·ªÉn trang Y√™u th√≠ch c≈©')}
          />

          <StatBox num={mockStats.checkin} label="Check-in" onClick={() => {}} />

          <StatBox num={mockStats.badges} label="Badge" onClick={() => {}} />
        </div>

        <div className="bg-white rounded-xl p-4 shadow-sm">
          <div className="flex justify-between items-center mb-4">
            <div className="flex items-center gap-2">
              <Icon icon="zi-note" className="text-orange-500" />
              <Text className="font-bold text-sm uppercase text-gray-700">Voucher c·ªßa t√¥i</Text>
            </div>
            <Text
              size="small"
              className="text-red-500 font-medium cursor-pointer active:opacity-60"
              onClick={() => handleProtectedAction(() => navigate('/my-voucher'))}
            >
              Xem t·∫•t c·∫£
            </Text>
          </div>

          <div className="flex text-center divide-x divide-gray-100">
            <div
              className="flex-1 cursor-pointer active:opacity-60"
              onClick={() => handleProtectedAction(() => navigate('/my-voucher'))}
            >
              <div className="text-xl font-bold text-red-500">{voucherStats.saved}</div>
              <div className="text-[10px] text-gray-400 mt-1">ƒêang l∆∞u</div>
            </div>
            <div className="flex-1">
              <div className="text-xl font-bold text-green-500">{voucherStats.used}</div>
              <div className="text-[10px] text-gray-400 mt-1">ƒê√£ s·ª≠ d·ª•ng</div>
            </div>
            <div className="flex-1">
              <div className="text-xl font-bold text-orange-500">{voucherStats.expiring}</div>
              <div className="text-[10px] text-gray-400 mt-1">S·∫Øp h·∫øt h·∫°n</div>
            </div>
          </div>
        </div>

        <div className="bg-white rounded-xl p-4 shadow-sm">
          <div className="flex items-center gap-2 mb-3">
            <Icon icon="zi-location" className="text-blue-500" />
            <Text className="font-bold text-sm uppercase text-gray-700">Qu√°n ƒë√£ xem g·∫ßn ƒë√¢y</Text>
          </div>

          <div className="space-y-4">
            {recentStores.map((store) => (
              <div
                key={store.id}
                className="flex items-center gap-3 active:opacity-60 cursor-pointer"
                onClick={() => navigate(`/store/${store.id}`)}
              >
                <img
                  src={store.img}
                  className="w-10 h-10 rounded-lg object-cover bg-gray-200"
                  alt=""
                />
                <div className="flex-1 border-b border-gray-50 pb-2">
                  <div className="flex justify-between items-center">
                    <Text className="font-bold text-gray-800 text-sm">{store.name}</Text>
                    <MdOutlineKeyboardArrowRight className="text-gray-400" />
                  </div>
                  <Text size="xxSmall" className="text-gray-400">
                    {store.time}
                  </Text>
                </div>
              </div>
            ))}
          </div>
        </div>

        <div className="bg-white rounded-xl shadow-sm overflow-hidden mb-4">
          <div className="p-4 pb-2 flex items-center gap-2">
            <Icon icon="zi-setting" className="text-gray-400" />
            <Text className="font-bold text-sm uppercase text-gray-700">C√†i ƒë·∫∑t</Text>
          </div>

          <div>
            <SettingItem
              icon={<FaMapMarkerAlt />}
              label="ƒê·ªãa ch·ªâ ƒë√£ l∆∞u"
              onClick={() => handleProtectedAction(() => console.log('Ch·ª©c nƒÉng ƒë·ªãa ch·ªâ c≈©'))}
            />

            <SettingItem icon={<Icon icon="zi-notif-ring" />} label="Th√¥ng b√°o" />
            <SettingItem icon={<Icon icon="zi-lock" />} label="Quy·ªÅn ri√™ng t∆∞" />
            <SettingItem icon={<Icon icon="zi-poll-solid" />} label="Trung t√¢m tr·ª£ gi√∫p" />

            {user && (
              <SettingItem
                icon={<Icon icon="zi-leave" />}
                label="ƒêƒÉng xu·∫•t"
                isLast
                onClick={(e: any) => {
                  e.stopPropagation();
                  setUser(null);
                  navigate('/welcome');
                }}
              />
            )}
          </div>
        </div>
      </div>
    </Page>
  );
};

export default ProfilePage;


================================================
FILE PATH: src\pages\profile\my-voucher\index.tsx
================================================
import React, { useEffect, useState, useMemo } from 'react';
import { Page, Header, Box, useSnackbar, Tabs } from 'zmp-ui';
import { useStore } from '@/hooks/useStore';
import VoucherTicket from './VoucherTicket';
import { useNavigate } from 'react-router-dom';

const MyVoucherPage: React.FC = () => {
  const { myVouchers, fetchMyWallet, useVoucher, loading } = useStore();
  const { openSnackbar } = useSnackbar();
  const navigate = useNavigate();
  const [, setTick] = useState(0);

  useEffect(() => {
    fetchMyWallet();
    const interval = setInterval(() => setTick((t) => t + 1), 1000);
    return () => clearInterval(interval);
  }, [fetchMyWallet]);

  const handleUse = async (id: number) => {
    if (!useVoucher) return;
    const result: any = await useVoucher(id);
    if (result.success) {
      openSnackbar({ text: '‚úÖ S·ª≠ d·ª•ng th√†nh c√¥ng!', type: 'success' });
    } else {
      openSnackbar({ text: result.message || 'L·ªói', type: 'error' });
    }
  };

  // Ph√¢n lo·∫°i Voucher
  const { activeVouchers, historyVouchers } = useMemo(() => {
    const active: any[] = [];
    const history: any[] = [];
    const now = new Date().getTime();

    (myVouchers || []).forEach((item: any) => {
      const savedTime = new Date(item.saved_at).getTime();
      const holdingTime = (item.holding_time || 30) * 60 * 1000;
      const expireHoldTime = savedTime + holdingTime; // H·∫øt h·∫°n gi·ªØ ch·ªó
      const endDate = new Date(item.end_date).getTime(); // H·∫øt h·∫°n ch∆∞∆°ng tr√¨nh

      const isExpired = now > endDate;
      const isHoldExpired = now > expireHoldTime;
      const isUsed = item.status === 'USED';

      if (!isExpired && !isHoldExpired && !isUsed) {
        active.push(item);
      } else {
        history.push({ ...item });
      }
    });

    return { activeVouchers: active, historyVouchers: history };
  }, [myVouchers]);

  const EmptyState = ({ text }: { text: string }) => (
    <div className="flex flex-col items-center justify-center mt-12 opacity-60">
      <div className="text-4xl mb-2">üé´</div>
      <p className="text-gray-500 text-sm font-medium">{text}</p>
      <button
        onClick={() => navigate('/home')}
        className="mt-4 text-[#D83231] font-bold text-sm hover:underline"
      >
        SƒÉn voucher m·ªõi ‚Üí
      </button>
    </div>
  );

  return (
    <Page className="bg-gray-50 h-full pb-safe">
      <Header
        title="V√≠ Voucher C·ªßa T√¥i"
        showBackIcon={true}
        className="bg-[#D83231] text-white"
        textColor="white"
      />

      <div className="mt-[80px] h-full flex flex-col">
        <Tabs id="my-voucher-tabs" className="flex-1 flex flex-col">
          <Tabs.Tab key="active" label={`Kh·∫£ d·ª•ng (${activeVouchers.length})`}>
            <Box className="p-4 bg-gray-50 min-h-[80vh]">
              {loading ? (
                <div className="text-center py-10 text-gray-400 text-xs">ƒêang t·∫£i v√≠...</div>
              ) : activeVouchers.length > 0 ? (
                activeVouchers.map((item) => (
                  <VoucherTicket key={item.wallet_id} item={item} onUse={handleUse} />
                ))
              ) : (
                <EmptyState text="B·∫°n ch∆∞a c√≥ voucher n√†o kh·∫£ d·ª•ng" />
              )}
            </Box>
          </Tabs.Tab>

          <Tabs.Tab key="history" label="L·ªãch s·ª≠">
            <Box className="p-4 bg-gray-50 min-h-[80vh]">
              {historyVouchers.length > 0 ? (
                historyVouchers.map((item) => (
                  <VoucherTicket key={item.wallet_id} item={item} onUse={() => {}} isHistory />
                ))
              ) : (
                <EmptyState text="Ch∆∞a c√≥ l·ªãch s·ª≠ s·ª≠ d·ª•ng" />
              )}
            </Box>
          </Tabs.Tab>
        </Tabs>
      </div>
    </Page>
  );
};

export default MyVoucherPage;


================================================
FILE PATH: src\pages\profile\my-voucher\VoucherTicket.tsx
================================================
import React from 'react';
import { Text, Button } from 'zmp-ui';

interface VoucherTicketProps {
  item: any;
  onUse: (id: number) => void;
  isHistory?: boolean;
}

const VoucherTicket: React.FC<VoucherTicketProps> = ({ item, onUse, isHistory = false }) => {
  // Format ng√†y h·∫øt h·∫°n (VD: 20/11/2024)
  const endDate = new Date(item.end_date);
  const dateString = endDate.toLocaleDateString('vi-VN', {
    day: '2-digit',
    month: '2-digit',
    year: 'numeric',
  });

  // T√≠nh to√°n ƒë·∫øm ng∆∞·ª£c
  const now = new Date().getTime();
  const savedTime = new Date(item.saved_at).getTime();
  const holdingTime = (item.holding_time || 30) * 60 * 1000;

  // Th·ªùi gian h·∫øt h·∫°n gi·ªØ ch·ªó (n·∫øu c√≥) ho·∫∑c h·∫øt h·∫°n ch∆∞∆°ng tr√¨nh
  const expireTime = Math.min(savedTime + holdingTime, endDate.getTime());
  const timeLeft = expireTime - now;

  const formatCountdown = (ms: number) => {
    if (ms <= 0) return '00:00:00';
    const totalSec = Math.floor(ms / 1000);
    const h = Math.floor(totalSec / 3600)
      .toString()
      .padStart(2, '0');
    const m = Math.floor((totalSec % 3600) / 60)
      .toString()
      .padStart(2, '0');
    const s = (totalSec % 60).toString().padStart(2, '0');
    return `${h}:${m}:${s}`;
  };

  const isFlashSale = item.type === 'FLASH_SALE';

  return (
    <div
      className={`relative flex w-full h-32 mb-4 filter drop-shadow-sm transition-all active:scale-[0.98] ${
        isHistory ? 'opacity-70 grayscale' : ''
      }`}
    >
      {/* PH·∫¶N TR√ÅI: M·ª©c gi·∫£m gi√° */}
      <div
        className={`w-[110px] flex flex-col items-center justify-center text-white rounded-l-xl relative ${
          isHistory
            ? 'bg-gray-400'
            : isFlashSale
            ? 'bg-gradient-to-br from-orange-500 to-red-600'
            : 'bg-gradient-to-br from-[#D83231] to-[#ff6b6b]'
        }`}
      >
        <div className="text-2xl font-black">{item.discount}</div>
        <div className="text-[10px] font-bold uppercase tracking-widest opacity-90 mt-1">
          {isFlashSale ? 'Flash Sale' : 'Voucher'}
        </div>
        <div
          className="absolute right-0 top-0 bottom-0 w-[4px]"
          style={{
            backgroundImage: 'radial-gradient(circle, #fff 2px, transparent 2.5px)',
            backgroundSize: '4px 8px',
          }}
        ></div>
      </div>

      {/* PH·∫¶N PH·∫¢I: Th√¥ng tin & H·∫°n s·ª≠ d·ª•ng */}
      <div className="flex-1 bg-white rounded-r-xl p-3 flex flex-col justify-between relative border border-l-0 border-gray-100">
        <div className="absolute -left-2 top-0 w-4 h-4 bg-gray-100 rounded-full mt-[-8px] z-10"></div>
        <div className="absolute -left-2 bottom-0 w-4 h-4 bg-gray-100 rounded-full mb-[-8px] z-10"></div>

        <div>
          <div className="flex justify-between items-start">
            <Text className="font-bold text-gray-800 line-clamp-1 text-sm flex-1 mr-2">
              {item.title}
            </Text>
          </div>
          <Text size="xxSmall" className="text-gray-500 line-clamp-1 mb-1">
            T·∫°i: {item.store_name}
          </Text>

          {!isHistory && (
            <div className="flex flex-col gap-0.5 mt-1">
              {/* Hi·ªÉn th·ªã H·∫°n s·ª≠ d·ª•ng c·ª• th·ªÉ */}
              <Text size="xxSmall" className="text-gray-500 font-medium">
                HSD: {dateString}
              </Text>

              {/* Hi·ªÉn th·ªã ƒë·∫øm ng∆∞·ª£c */}
              <div className="flex items-center gap-1">
                <span className="text-[10px] text-gray-400">Gi·ªØ v√© trong:</span>
                <span className="font-mono text-xs font-bold text-orange-600 bg-orange-50 px-1 rounded">
                  {timeLeft > 0 ? formatCountdown(timeLeft) : 'H·∫øt h·∫°n'}
                </span>
              </div>
            </div>
          )}

          {isHistory && (
            <Text size="xxSmall" className="text-gray-400 mt-1">
              ƒê√£ h·∫øt h·∫°n v√†o: {dateString}
            </Text>
          )}
        </div>

        <div className="flex justify-between items-end border-t border-dashed border-gray-200 pt-2 mt-1">
          <div className="flex flex-col">
            <span className="text-[10px] text-gray-400">M√£ code:</span>
            <span className="font-mono font-bold text-gray-700 text-xs select-all">
              {item.code}
            </span>
          </div>

          {!isHistory ? (
            <Button
              size="small"
              className="h-7 text-xs bg-[#D83231] text-white shadow-red-200 shadow-md"
              onClick={() => onUse(item.voucher_id)}
            >
              D√πng ngay
            </Button>
          ) : (
            <span className="text-xs font-bold text-gray-400 px-2 py-1 bg-gray-100 rounded">
              ƒê√£ qua
            </span>
          )}
        </div>
      </div>
    </div>
  );
};

export default VoucherTicket;


================================================
FILE PATH: src\pages\store\index.tsx
================================================
import React, { useEffect, useState } from 'react';
import { Page, Header, Box, Text, Button, Icon, useSnackbar } from 'zmp-ui';
import { useParams } from 'react-router-dom';
import api from '@/services/api';
import { useStore } from '@/hooks/useStore';

const StoreDetailPage: React.FC = () => {
  const { id } = useParams(); // L·∫•y ID qu√°n t·ª´ URL
  const { saveVoucher, myVouchers } = useStore();
  const { openSnackbar } = useSnackbar();

  const [store, setStore] = useState<any>(null);
  const [loading, setLoading] = useState(true);

  // L·∫•y danh s√°ch ID voucher ƒë√£ l∆∞u ƒë·ªÉ check tr·∫°ng th√°i n√∫t b·∫•m
  const savedVoucherIds = new Set(myVouchers.map((v: any) => v.voucher_id));

  useEffect(() => {
    const fetchDetail = async () => {
      try {
        setLoading(true);
        // G·ªçi API l·∫•y chi ti·∫øt qu√°n (Backend ƒë√£ c√≥ h√†m getStoreDetail)
        const res: any = await api.get(`/api/store/detail/${id}`);
        if (res && res.data) {
          setStore(res.data);
        }
      } catch (error) {
        console.error('L·ªói l·∫•y chi ti·∫øt qu√°n:', error);
      } finally {
        setLoading(false);
      }
    };

    if (id) fetchDetail();
  }, [id]);

  const handleSave = (voucherId: number) => {
    saveVoucher(voucherId);
    openSnackbar({ text: 'ƒê√£ l∆∞u v√†o v√≠!', type: 'success' });
  };

  if (loading)
    return (
      <div className="flex justify-center mt-20">
        <div className="w-8 h-8 border-4 border-orange-500 rounded-full animate-spin border-t-transparent"></div>
      </div>
    );

  if (!store) return <div className="text-center mt-20">Kh√¥ng t√¨m th·∫•y qu√°n</div>;

  return (
    <Page className="bg-white pb-20 relative">
      {/* Header trong su·ªët ƒë√® l√™n ·∫£nh */}
      <Header
        title="Chi ti·∫øt qu√°n"
        showBackIcon
        className="absolute top-0 left-0 right-0 z-50 bg-transparent text-white shadow-none"
        style={{ background: 'transparent' }}
        textColor="white"
      />

      {/* ·∫¢nh b√¨a */}
      <div className="relative h-60 w-full">
        <img
          src={store.image || 'https://via.placeholder.com/400x200'}
          className="w-full h-full object-cover"
          alt={store.name}
        />
        <div className="absolute inset-0 bg-gradient-to-t from-black/70 to-transparent"></div>

        <div className="absolute bottom-4 left-4 right-4 text-white">
          <Text.Title size="large" className="font-bold mb-1">
            {store.name}
          </Text.Title>
          <div className="flex items-center gap-1 text-sm opacity-90">
            <Icon icon="zi-location-solid" size={16} />
            <span className="line-clamp-1">{store.address}</span>
          </div>
        </div>
      </div>

      {/* N·ªôi dung ch√≠nh */}
      <Box p={4} className="-mt-4 bg-white rounded-t-2xl relative z-10 min-h-screen">
        <div className="flex gap-4 mb-6 border-b border-gray-100 pb-4">
          <div className="flex-1 text-center">
            <div className="font-bold text-lg">4.8 ‚≠ê</div>
            <div className="text-xs text-gray-500">ƒê√°nh gi√°</div>
          </div>
          <div className="w-[1px] bg-gray-200"></div>
          <div className="flex-1 text-center">
            <div className="font-bold text-lg text-green-600">ƒêang m·ªü</div>
            <div className="text-xs text-gray-500">07:00 - 22:00</div>
          </div>
        </div>

        <Text.Title size="normal" className="font-bold mb-4 uppercase">
          Voucher ∆∞u ƒë√£i ({store.vouchers?.length || 0})
        </Text.Title>

        <div className="space-y-4">
          {store.vouchers &&
            store.vouchers.map((v: any) => {
              const isSaved = savedVoucherIds.has(v.id);
              return (
                <div
                  key={v.id}
                  className="border border-orange-100 bg-orange-50/30 rounded-xl p-3 flex justify-between items-center relative overflow-hidden"
                >
                  {/* Trang tr√≠ */}
                  <div className="absolute top-0 left-0 w-1 h-full bg-orange-500"></div>

                  <div className="flex-1 pl-3">
                    <Text className="font-bold text-gray-800">{v.title}</Text>
                    <div className="flex items-center gap-2 mt-1">
                      <span className="bg-white border border-gray-200 text-xs px-2 py-0.5 rounded text-gray-500 font-mono">
                        {v.code}
                      </span>
                      <span className="text-orange-600 font-bold text-xs">Gi·∫£m {v.discount}</span>
                    </div>
                  </div>

                  <Button
                    size="small"
                    className={`h-8 min-w-[80px] text-xs font-bold shadow-none ${
                      isSaved ? 'bg-gray-200 text-gray-500' : 'bg-orange-500 text-white'
                    }`}
                    disabled={isSaved}
                    onClick={() => !isSaved && handleSave(v.id)}
                  >
                    {isSaved ? 'ƒê√£ l∆∞u' : 'L∆∞u'}
                  </Button>
                </div>
              );
            })}

          {(!store.vouchers || store.vouchers.length === 0) && (
            <div className="text-center text-gray-400 italic py-4">Ch∆∞a c√≥ voucher n√†o</div>
          )}
        </div>
      </Box>
    </Page>
  );
};

export default StoreDetailPage;


================================================
FILE PATH: src\pages\voucher\CategoryTabs.tsx
================================================
import React from 'react';
import { Box } from 'zmp-ui';

interface CategoryTabsProps {
  activeTab: string;
  setActiveTab: (tab: string) => void;
}

const categories = ['T·∫•t c·∫£', 'Flash Sale', 'F&B', 'Cafe', 'ƒÇn v·∫∑t', 'Nh√† h√†ng', 'Tr√† s·ªØa'];

const CategoryTabs: React.FC<CategoryTabsProps> = ({ activeTab, setActiveTab }) => {
  return (
    <div className="sticky top-0 z-50 bg-white border-b border-gray-100 shadow-sm">
      <div className="flex overflow-x-auto no-scrollbar px-4 pt-3 pb-1 gap-6">
        {categories.map((cat) => {
          const isActive = activeTab === cat;
          return (
            <div
              key={cat}
              onClick={() => setActiveTab(cat)}
              className={`flex-shrink-0 pb-2 cursor-pointer transition-all font-medium text-sm ${
                isActive
                  ? 'text-[#D83231] border-b-2 border-[#D83231] font-bold'
                  : 'text-gray-500 border-b-2 border-transparent'
              }`}
            >
              {cat}
            </div>
          );
        })}
      </div>
    </div>
  );
};

export default CategoryTabs;


================================================
FILE PATH: src\pages\voucher\FlashSaleSection.tsx
================================================
import React, { useEffect, useState } from 'react';
import { Box, Text, Button, Icon } from 'zmp-ui';
import { useStore } from '@/hooks/useStore';
import { useNavigate } from 'react-router-dom';

const FlashSaleCard = ({ item }: { item: any }) => {
  const [timeLeft, setTimeLeft] = useState('');
  const { saveVoucher } = useStore();

  useEffect(() => {
    const calculateTime = () => {
      const end = new Date(item.end_date).getTime();
      const now = new Date().getTime();
      const diff = end - now;
      if (diff <= 0) return '00:00:00';

      const h = Math.floor(diff / (1000 * 60 * 60))
        .toString()
        .padStart(2, '0');
      const m = Math.floor((diff % (1000 * 60 * 60)) / (1000 * 60))
        .toString()
        .padStart(2, '0');
      const s = Math.floor((diff % (1000 * 60)) / 1000)
        .toString()
        .padStart(2, '0');
      return `${h}:${m}:${s}`;
    };
    const timer = setInterval(() => setTimeLeft(calculateTime()), 1000);
    return () => clearInterval(timer);
  }, [item.end_date]);

  return (
    <div className="bg-[#FFECC7] rounded-xl p-4 mb-4 border border-orange-100 relative overflow-hidden">
      {/* Badge gi·∫£m gi√° + Time */}
      <div className="flex items-center gap-2 mb-2">
        <div className="bg-orange-500 text-white text-xs font-bold px-2 py-1 rounded-md flex items-center gap-1">
          <Icon icon="zi-poll" size={14} />
          <span>-{item.discount}</span>
          <span className="w-[1px] h-3 bg-white/40 mx-1"></span>
          <span className="font-mono">{timeLeft}</span>
        </div>
      </div>

      {/* T√™n qu√°n + Title */}
      <Text.Title size="small" className="font-bold text-gray-800 line-clamp-1 mb-1">
        {item.store_name} - {item.title}
      </Text.Title>

      <Text size="xxSmall" className="text-gray-500 mb-3 line-clamp-1">
        #{item.code} ‚Ä¢ √Åp d·ª•ng t·∫•t c·∫£ chi nh√°nh
      </Text>

      {/* N√∫t l∆∞u */}
      <Button
        size="small"
        className="bg-[#D83231] text-white font-bold h-8 rounded-full px-6 shadow-red-200"
        onClick={() => saveVoucher(item.id)}
      >
        L∆∞u voucher
      </Button>

      {/* Decor g√≥c */}
      <div className="absolute -right-4 -bottom-4 w-16 h-16 bg-orange-300 opacity-20 rounded-full"></div>
    </div>
  );
};

const FlashSaleSection = ({ flashSales }: { flashSales: any[] }) => {
  if (!flashSales || flashSales.length === 0) return null;

  return (
    <Box className="bg-white p-4 pb-2">
      <div className="flex items-center gap-2 mb-3">
        <Icon icon="zi-poll-solid" className="text-orange-500" />
        <Text.Title size="normal" className="font-extrabold uppercase text-gray-800">
          FLASH SALE ƒêANG DI·ªÑN RA
        </Text.Title>
      </div>

      {/* N·∫øu c√≥ nhi·ªÅu Flash Sale th√¨ map ra, ·ªü ƒë√¢y demo l·∫•y c√°i ƒë·∫ßu ti√™n active */}
      {flashSales.slice(0, 3).map((item) => (
        <FlashSaleCard key={item.id} item={item} />
      ))}
    </Box>
  );
};

export default FlashSaleSection;


================================================
FILE PATH: src\pages\voucher\index.tsx
================================================
import React, { useEffect, useState, useMemo } from 'react';
import { Page, Box, Header } from 'zmp-ui';
import { useStore } from '@/hooks/useStore';
import CategoryTabs from './CategoryTabs';
import FlashSaleSection from './FlashSaleSection';
import StoreDealList from './StoreDealList';

const PromotionPage: React.FC = () => {
  const { stores, flashSales, fetchNearby, fetchFlashSales } = useStore();

  const [activeTab, setActiveTab] = useState('T·∫•t c·∫£');

  useEffect(() => {
    fetchFlashSales();
    fetchNearby();
  }, []);

  const filteredStores = useMemo(() => {
    if (!stores) return [];
    if (activeTab === 'T·∫•t c·∫£') return stores;
    return stores.filter((s) => s.category?.toLowerCase().includes(activeTab.toLowerCase()));
  }, [stores, activeTab]);

  return (
    <Page className="bg-gray-100 h-full">
      <Header title="Khuy·∫øn m√£i" showBackIcon />
      <Box className="h-20 bg-gray-100" />

      <CategoryTabs activeTab={activeTab} setActiveTab={setActiveTab} />

      <div className="overflow-y-auto h-full pb-safe">
        {activeTab === 'T·∫•t c·∫£' || activeTab === 'Flash Sale' ? (
          <FlashSaleSection flashSales={flashSales} />
        ) : null}

        <StoreDealList stores={filteredStores} />
      </div>
    </Page>
  );
};

export default PromotionPage;


================================================
FILE PATH: src\pages\voucher\StoreDealList.tsx
================================================
import React from 'react';
import { Box, Text, Button, Icon } from 'zmp-ui';
import { Store } from '@/types/store';
import { useNavigate } from 'react-router-dom';

const StoreDealItem = ({ store }: { store: Store }) => {
  const navigate = useNavigate();
  // Filter voucher th∆∞·ªùng (kh√¥ng ph·∫£i flash sale)
  const normalVouchers = store.vouchers?.filter((v) => v.type !== 'FLASH_SALE') || [];
  const voucherCount = normalVouchers.length;

  // Fake rating v√¨ trong model ch∆∞a c√≥
  const rating = 4.5;
  const reviewCount = Math.floor(Math.random() * 100) + 10;

  if (voucherCount === 0) return null;

  return (
    <div className="bg-white p-4 border-b border-gray-50 last:border-none flex gap-4">
      {/* ·∫¢nh qu√°n (Vu√¥ng bo g√≥c) */}
      <div className="w-28 h-28 flex-shrink-0">
        <img
          src={store.image || 'https://via.placeholder.com/150'}
          className="w-full h-full object-cover rounded-xl bg-gray-100 border border-gray-100"
          alt={store.name}
        />
      </div>

      {/* Th√¥ng tin b√™n ph·∫£i */}
      <div className="flex-1 min-w-0 flex flex-col">
        <Text.Title size="small" className="font-bold text-gray-800 line-clamp-1 uppercase">
          {store.name}
        </Text.Title>

        {/* Rating */}
        <div className="flex items-center gap-1 my-1">
          <div className="flex text-yellow-400 text-xs">
            {'‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ'.split('').map((s, i) => (
              <span
                key={i}
                className={i < Math.floor(rating) ? 'text-yellow-400' : 'text-gray-300'}
              >
                ‚òÖ
              </span>
            ))}
          </div>
          <Text size="xxSmall" className="text-gray-500">
            {rating} ({reviewCount} ƒë√°nh gi√°)
          </Text>
        </div>

        {/* Badge s·ªë l∆∞·ª£ng ∆∞u ƒë√£i */}
        <div className="mb-2">
          <span className="bg-pink-50 text-pink-500 text-[10px] font-bold px-2 py-0.5 rounded-full inline-block">
            {voucherCount} ∆∞u ƒë√£i ƒëang c√≥
          </span>
        </div>

        {/* List voucher text (t·ªëi ƒëa 2 d√≤ng) */}
        <div className="mb-3 space-y-0.5">
          {normalVouchers.slice(0, 2).map((v) => (
            <div key={v.id} className="flex items-center gap-1.5">
              <div className="w-1 h-1 rounded-full bg-gray-400"></div>
              <Text size="xxSmall" className="text-gray-500 line-clamp-1">
                {v.title}
              </Text>
            </div>
          ))}
          {voucherCount > 2 && (
            <Text size="xxSmall" className="text-gray-400 italic pl-2.5">
              + {voucherCount - 2} ∆∞u ƒë√£i kh√°c...
            </Text>
          )}
        </div>

        {/* N√∫t Xem chi ti·∫øt */}
        <div className="mt-auto">
          <Button
            size="small"
            className="bg-[#D83231] text-white font-bold h-7 text-xs rounded-full px-4"
            onClick={() => navigate(`/store/${store.id}`)}
          >
            Xem chi ti·∫øt
          </Button>
        </div>
      </div>
    </div>
  );
};

const StoreDealList = ({ stores }: { stores: Store[] }) => {
  // L·ªçc ch·ªâ nh·ªØng qu√°n c√≥ voucher
  const storesWithDeals = stores.filter((s) => s.vouchers && s.vouchers.length > 0);

  return (
    <Box className="bg-white mt-2 pb-20">
      <div className="p-4 pb-0 flex justify-between items-end">
        <div className="flex items-center gap-2">
          <Icon icon="zi-poll-solid" className="text-pink-500 font-bold" />
          <div>
            <Text.Title size="normal" className="font-extrabold uppercase text-gray-800">
              ∆Øu ƒë√£i d√†nh cho b·∫°n
            </Text.Title>
            <Text size="xxSmall" className="text-gray-400">
              {storesWithDeals.length} c·ª≠a h√†ng ‚Ä¢ 5km quanh b·∫°n
            </Text>
          </div>
        </div>
      </div>

      <div className="divide-y divide-gray-50">
        {storesWithDeals.map((store) => (
          <StoreDealItem key={store.id} store={store} />
        ))}
      </div>

      {storesWithDeals.length === 0 && (
        <div className="text-center py-10 text-gray-400 text-sm">
          Kh√¥ng t√¨m th·∫•y ∆∞u ƒë√£i n√†o quanh ƒë√¢y :(
        </div>
      )}
    </Box>
  );
};

export default StoreDealList;


================================================
FILE PATH: src\pages\welcome\index.tsx
================================================
import React, { useEffect, useState } from 'react';
import { Page, Button, Text, Icon } from 'zmp-ui';
import { useNavigate } from 'react-router-dom';

const WelcomePage: React.FC = () => {
  const navigate = useNavigate();
  const [visible, setVisible] = useState(false);

  useEffect(() => {
    setTimeout(() => setVisible(true), 100);
  }, []);

  const handleContinue = () => {
    navigate('/home');
  };

  const BRAND_COLOR = '#D83231';

  return (
    <Page className="relative flex flex-col h-screen bg-white overflow-y-auto">
      <div className="relative flex-shrink-0 bg-gradient-to-br from-red-400 via-[#D83231] to-red-900 flex flex-col items-center justify-center pt-20 pb-8 rounded-b-[40px] z-0">
        <div className="absolute top-0 left-0 w-40 h-40 bg-white opacity-10 rounded-full blur-3xl animate-pulse"></div>
        <div className="absolute bottom-10 right-0 w-32 h-32 bg-orange-300 opacity-20 rounded-full blur-3xl"></div>

        <div
          className={`transition-all duration-700 transform ${
            visible ? 'translate-y-0 opacity-100' : '-translate-y-10 opacity-0'
          } text-center z-10 px-4`}
        >
          <h1 className="text-2xl font-extrabold text-white tracking-tight drop-shadow-md leading-tight uppercase">
            Th√°i Nguy√™n <br /> Voucher Maps
          </h1>

          <div className="mt-2 bg-white/20 backdrop-blur-sm px-3 py-1 rounded-full inline-block border border-white/10">
            <p className="text-white text-[10px] font-semibold tracking-wide">
              "ƒêi ƒë√¢u c≈©ng c√≥ deal, ƒÉn g√¨ c≈©ng ti·∫øt ki·ªám"
            </p>
          </div>
        </div>

        <div
          className={`mt-6 relative transition-all duration-1000 delay-300 transform ${
            visible ? 'scale-100 opacity-100' : 'scale-90 opacity-0'
          }`}
        >
          <div className="absolute inset-0 bg-white/20 rounded-full blur-xl scale-110"></div>

          <img
            src="https://images.unsplash.com/photo-1555939594-58d7cb561ad1?ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=80"
            className="w-48 h-48 object-cover rounded-full border-[4px] border-white/40 shadow-2xl relative z-10 animate-[bounce_4s_infinite]"
            alt="Food Hero"
          />

          <div className="absolute -right-2 top-8 bg-white/90 backdrop-blur-sm p-1.5 rounded-lg shadow-lg z-20 animate-bounce delay-100 flex items-center gap-1">
            <span className="text-[10px] font-bold text-[#D83231]">-50%</span>
          </div>
          <div className="absolute -left-2 bottom-8 bg-white/90 backdrop-blur-sm p-1.5 rounded-lg shadow-lg z-20 animate-bounce delay-300">
            <Icon icon="zi-location" className="text-[#D83231] pb-6 text-lg" />
          </div>
        </div>
      </div>

      <div
        className={`flex-1 bg-white -mt-8 relative z-10 rounded-t-[32px] px-6 pt-4 pb-safe flex flex-col transition-all duration-700 delay-500 transform ${
          visible ? 'translate-y-0 opacity-100' : 'translate-y-20 opacity-0'
        }`}
      >
        <div className="text-center mb-4 flex-shrink-0">
          <Text.Title className="text-lg font-bold text-gray-800 uppercase">
            Kh√°m ph√° Th√°i Nguy√™n
          </Text.Title>
          <Text className="text-gray-500 mt-1 text-xs px-2 line-clamp-2">
            T√¨m qu√°n ngon, nh·∫≠n voucher ∆∞u ƒë√£i v√† ti·∫øt ki·ªám chi ph√≠ m·ªói ng√†y.
          </Text>
        </div>

        <div className="space-y-3 mb-2 flex-1 overflow-y-auto min-h-0">
          <FeatureItem
            icon="zi-location-solid"
            text="B·∫£n ƒë·ªì qu√°n ƒÉn ph·ªß s√≥ng to√†n TP"
            color={BRAND_COLOR}
          />
          <FeatureItem
            icon="zi-star-solid"
            text="H√†ng ng√†n Voucher ƒë·ªôc quy·ªÅn"
            color={BRAND_COLOR}
          />
          <FeatureItem icon="zi-link" text="X√°c th·ª±c v√† li√™n k·∫øt t√†i kho·∫£n" color={BRAND_COLOR} />
        </div>

        <div className="mt-auto pt-2 pb-4">
          <Button
            fullWidth
            size="large"
            onClick={handleContinue}
            className="rounded-xl h-12 text-lg font-bold shadow-lg shadow-red-200 active:scale-95 transition-transform"
            style={{
              backgroundColor: BRAND_COLOR,
              border: 'none',
            }}
          >
            B·∫Øt ƒë·∫ßu tr·∫£i nghi·ªám
          </Button>
        </div>
      </div>
    </Page>
  );
};

const FeatureItem = ({ icon, text, color }: { icon: string; text: string; color: string }) => (
  <div className="flex items-center gap-3 p-2.5 rounded-xl bg-gray-50 border border-gray-100 hover:bg-red-50 transition-colors">
    <div className="w-8 h-8 rounded-full bg-white shadow-sm flex items-center justify-center shrink-0">
      <Icon icon={icon as any} style={{ color: color }} />
    </div>
    <Text className="text-gray-700 font-medium text-sm line-clamp-1">{text}</Text>
  </div>
);

export default WelcomePage;


================================================
FILE PATH: src\services\api.ts
================================================
import axios, { AxiosError } from 'axios';

const BASE_URL = import.meta.env.VITE_BACKEND_URL;

const api = axios.create({
  baseURL: BASE_URL,
  timeout: 15000,
  headers: {
    'Content-Type': 'application/json',
    'ngrok-skip-browser-warning': 'true',
    'bypass-tunnel-reminder': 'true',
    'X-Requested-With': 'XMLHttpRequest',
  },
});

api.interceptors.response.use(
  (response) => {
    return response.data;
  },
  (error: AxiosError) => {
    console.error('API Error:', error.response || error.message);
    return Promise.reject(error);
  }
);

export default api;


================================================
FILE PATH: src\states\state.ts
================================================
import { atom } from 'recoil';
import { Store } from '@/types/store';
import { User } from '@/types/user';

export const userLocationState = atom<[number, number]>({
  key: 'userLocationState',
  default: [21.597631, 105.840984],
});

export const locationLoadingState = atom<boolean>({
  key: 'locationLoadingState',
  default: false,
});

export const storesState = atom<any[]>({
  key: 'storesState',
  default: [],
});

export const myVouchersState = atom<any[]>({
  key: 'myVouchersState',
  default: [],
});

export const selectedStoreState = atom<Store | null>({
  key: 'selectedStoreState',
  default: null,
});

export const userState = atom<User | null>({
  key: 'userState',
  default: null,
});

export const userLoadingState = atom<boolean>({
  key: 'userLoadingState',
  default: false,
});

export const flashSaleState = atom<any[]>({
  key: 'flashSaleState',
  default: [],
});


================================================
FILE PATH: src\types\store.ts
================================================
export interface Voucher {
  id: number;
  title: string;
  code: string;
  discount: string;
  end_date: string;
  type: 'DEFAULT' | 'FLASH_SALE';
  discount_percent?: number;
}

export interface Store {
  id: number;
  name: string;
  address: string;
  lat: number;
  lng: number;
  image?: string;
  category?: string;
  vouchers?: Voucher[];
  distance?: number; // Kho·∫£ng c√°ch t√≠nh to√°n
}


================================================
FILE PATH: src\types\user.ts
================================================
export interface User {
  id: string;
  name: string;
  avatar: string;
  zalo_id?: string;
  is_active?: boolean;
}


================================================
FILE PATH: tailwind.config.js
================================================
module.exports = {
  darkMode: ["selector", '[zaui-theme="dark"]'],
  purge: {
    enabled: true,
    content: ["./src/**/*.{js,jsx,ts,tsx,vue}"],
  },
  theme: {
    extend: {
      fontFamily: {
        mono: ["Roboto Mono", "monospace"],
      },
    },
  },
};


================================================
FILE PATH: tsconfig.json
================================================
{
  "compilerOptions": {
    "noEmit": true,
    "target": "es6",
    "module": "esnext",
    "noImplicitAny": false,
    "preserveConstEnums": true,
    "jsx": "react-jsx",
    "lib": ["dom", "es5", "es6", "es7", "es2017"],
    "allowSyntheticDefaultImports": true,
    "esModuleInterop": true,
    "allowJs": true,
    "skipLibCheck": true,
    "declaration": false,
    "emitDecoratorMetadata": true,
    "experimentalDecorators": true,
    "forceConsistentCasingInFileNames": true,
    "moduleResolution": "node",
    "noEmitOnError": true,
    "noFallthroughCasesInSwitch": true,
    "noImplicitReturns": true,
    "noImplicitThis": true,
    "noUnusedLocals": false,
    "strict": true,
    "strictFunctionTypes": false,
    "pretty": true,
    "removeComments": true,
    "sourceMap": true,
    "resolveJsonModule": true,
    "types": ["vite/client"],
    "paths": {
      "@/*": ["./src/*"]
    }
  },
  "exclude": ["node_modules"],
  "include": ["src"]
}


================================================
FILE PATH: www\app-config.json
================================================
{"app":{"title":"zaui-LoctionVoucher","textColor":{"light":"black","dark":"white"},"statusBar":"transparent","actionBarHidden":true,"hideIOSSafeAreaBottom":true,"hideAndroidBottomNavigationBar":false},"listCSS":["assets/index-CT4LroQ2.css"],"listSyncJS":["assets/index.CY531BVP.module.js"],"listAsyncJS":[],"pages":[]}

================================================
FILE PATH: zmp-cli.json
================================================
{
  "cwd": "/Users/lap15182-local/Documents/zmp-blank-templates",
  "name": "zmp-blank-templates",
  "appId": "3423294335863914988",
  "framework": "react-typescript",
  "cssPreProcessor": "scss",
  "includeTailwind": true,
  "package": "zmp-ui",
  "stateManagement": "jotai",
  "newProject": true,
  "template": "single-view",
  "theming": {
    "customColor": false,
    "color": "#007aff",
    "darkTheme": false,
    "iconFonts": true,
    "fillBars": false,
    "useUiKits": true
  }
}
